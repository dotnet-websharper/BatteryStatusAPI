import { Start as fK } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fL, MarkResizable as fM, SetOptional as fN, Force as fO, GetOptional as fP, CreateFuncWithArgs as fQ, DeleteEmptyFields as fR, Create as fS, OnLoad as fT } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fU){ return"Dispose"in fU;}
function b(){ c();const fU=new q("New_1");const fV=(fU.h.push(new J("batterystatus", d().View)),fU);const fW=M(fV.k, fV.h, []);const fX=new l(fW[1], E(fW[0]));let fY=(fV.i=fX,fX);const fZ=fY.Doc;O("");u0036.RunById("main", fZ);}
function c(){ try { globalThis.navigator.getBattery().then((fU) => { e(fU);fU.addEventListener("levelchange", () => e(fU));fU.addEventListener("chargingchange", () => e(fU));fU.addEventListener("chargingtimechange", () => e(fU));return fU.addEventListener("dischargingtimechange", () => e(fU));});} catch(fU){ d().Set(String(fU.message));} }
function d(){ return K.batteryStatus;}
function e(fU){ const fV="Battery Level: "+String(g(fU.level*100))+"%<br>Charging: "+u0037(fU.charging?"Yes \u26a1":"No")+"<br>Time to Full Charge: "+u0037(fU.chargingTime>0?fU.chargingTime.toFixed(6)+"s":"N/A")+"<br>Time to Empty: "+u0037(fU.dischargingTime>0?fU.dischargingTime.toFixed(6)+"s":"N/A");globalThis.document.getElementById("battery-status").innerHTML=fV;}
function f(fU){ throw new Error(fU);}
function g(fU){ const fV=h(fU);return fV>2147483647?fV-4294967296:fV;}
function h(fU){ return(fU<0?Math.ceil(fU):Math.floor(fU))>>>0;}
function i(fU){ return[fU.K, fU.V];}
function j(fU, fV){ const fW=1+fV-fU;return fW<=0?[]:bj(fW, (fX) => fX+fU);}
let k=fL((fU) => class fV { static { k=fU(this);} Equals(fW){ return this===fW;} GetHashCode(){ return -1;} });
let l=fL((fU) => class fV extends k { static { l=fU(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fW, fX){ super();this.doc=fX;this.allVars=fW.$==0?fW.$0:f("Should not happen");this.anchorRoot=null;} });
function m(fU, fV){ o(fU, fV);return fU[fV];}
function n(fU, fV, fW){ o(fU, fV);fU[fV]=fW;}
function o(fU, fV){ if(fV<0||fV>=fU.length)f("Index was outside the bounds of the array.");}
function p(fU){ return fU.dims===2?fU.length*fU.length:fU.length;}
let q=fL((fU) => class fV extends k { static { q=fU(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(fW){ if(fW=="New_1"){ let fX;super();this.i=null;this.k=(fX=L(),String(fX));this.h=fM([]);fN(this, "s", null);} } });
let r=fL((fU) => class fV extends k { static { r=fU(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fW, fX){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return d0("");} });
let s=fL((fU) => class fV extends k { static { s=fU(this);} });
function t(fU, fV){ if(fU===fV)return true;else { const fW=typeof fU;if(fW=="object"){ if(fU===null||fU===void 0||fV===null||fV===void 0||!t(typeof fV, "object"))return false;else if("Equals"in fU)return fU.Equals(fV);else if("Equals"in fV)return false;else if(fU instanceof Array&&fV instanceof Array)return u(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return v(fU, fV);else { const fX=[true];let fY;for(var f0 in fU)if(((f1) => { fX[0]=!fU.hasOwnProperty(f1)||fV.hasOwnProperty(f1)&&t(fU[f1], fV[f1]);return!fX[0];})(f0))break;if(fX[0]){ let fZ;for(var f1 in fV)if(((f2) => { fX[0]=!fV.hasOwnProperty(f2)||fU.hasOwnProperty(f2);return!fX[0];})(f1))break;} return fX[0];} } else return fW=="function"&&("$Func"in fU?fU.$Func===fV.$Func&&fU.$Target===fV.$Target:"$Invokes"in fU&&"$Invokes"in fV&&u(fU.$Invokes, fV.$Invokes));} }
function u(fU, fV){ let fW;let fX;if(p(fU)===p(fV)){ fW=true;fX=0;while(fW&&fX<p(fU)){!t(m(fU, fX), m(fV, fX))?fW=false:void 0;fX=fX+1;} return fW;} else return false;}
function v(fU, fV){ return fU.getTime()===fV.getTime();}
function w(fU){ const fV=typeof fU;return fV=="function"?0:fV=="boolean"?fU?1:0:fV=="number"?fU:fV=="string"?x(fU):fV=="object"?fU==null?0:fU instanceof Array?y(fU):z(fU):0;}
function x(fU){ let fV;if(fU===null)return 0;else { fV=5381;for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV=A(fV, fU[fW].charCodeAt());return fV;} }
function y(fU){ let fV=-34948909;for(let fW=0, fX=p(fU)-1;fW<=fX;fW++)fV=A(fV, w(m(fU, fW)));return fV;}
function z(fU){ if("GetHashCode"in fU)return fU.GetHashCode();else { const fV=[0];let fW;for(var fX in fU)if(((fY) => { fV[0]=A(A(fV[0], x(fY)), w(fU[fY]));return false;})(fX))break;return fV[0];} }
function A(fU, fV){ return(fU<<5)+fU+fV;}
function B(fU, fV){ if(fU===fV)return 0;else { const fW=typeof fU;switch(fW=="function"?1:fW=="boolean"?2:fW=="number"?2:fW=="string"?2:fW=="object"?3:0){ case 0:return typeof fV=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return fU<fV?-1:1;case 3:if(fU===null)return -1;else if(fV===null)return 1;else if("CompareTo"in fU)return fU.CompareTo(fV);else if("CompareTo0"in fU)return fU.CompareTo0(fV);else if(fU instanceof Array&&fV instanceof Array)return C(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return D(fU, fV);else { const fX=[0];let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fV.hasOwnProperty(f1)?(fX[0]=1,true):(fX[0]=B(fU[f1], fV[f1]),fX[0]!==0))(f0))break;if(fX[0]===0){ let fZ;for(var f1 in fV)if(((f2) =>!fV.hasOwnProperty(f2)?false:!fU.hasOwnProperty(f2)&&(fX[0]=-1,true))(f1))break;} return fX[0];} break;} } }
function C(fU, fV){ let fW;let fX;if(p(fU)<p(fV))return -1;else if(p(fU)>p(fV))return 1;else { fW=0;fX=0;while(fW===0&&fX<p(fU)){ fW=B(m(fU, fX), m(fV, fX));fX=fX+1;} return fW;} }
function D(fU, fV){ return B(fU.getTime(), fV.getTime());}
function E(fU){ O("index");return fU?P("index", N("main"), fU):void 0;}
function F(fU){ const fV={};const fW=ce(fU);try { while(fW.MoveNext()){ const fX=fW.Current;fV[fX[0]]=fX[1];} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return fV;}
function G(fU){ let fV=[];let fW;for(var fX in fU)fV.push(fU[fX]);return fV;}
let H=fL((fU) => class fV extends k { static { H=fU(this);} });
let I=fL((fU) => { fO(r);return class fV extends r { static { I=fU(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return d0(this.fillWith);} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let J=fL((fU) => { fO(r);return class fV extends r { static { J=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(this.fillWith);} get AsChoiceView(){ return d1(this.fillWith);} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let K=fL((fU) => class fV { static { K=fU(this);} static batteryStatus;static { this.batteryStatus=u0039.Create_1("Checking battery status...");} });
function L(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fU) => { const fV=Math.random()*16|0;const fW=fU=="x"?fV:fV&3|8;return fW.toString(16);});}
function M(fU, fV, fW){ const fX=new u0038("New_5");const fY=new $("New_3");const fZ=ce(fV);try { while(fZ.MoveNext()){ const f0=fZ.Current;const f1=f0.Name;fY.SAdd(f1);fX.set_Item(f1, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return[ba(fV, bp((f2) => { const f3=f2[0];const f4=f2[1];const f5=f2[2];if(fY.Contains(f3))return null;else { const f6=f4===0?bE.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:N(f5.$0);let f8=u0039.Create_1(f7==null?"":f7.$0);return new bF(f3, f8);}):f4===1?bE.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:N(f5.$0);let f8=u0039.Create_1(f7==null?0:f7.$0);return new bG(f3, f8);}):f4===2?bE.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:N(f5.$0);let f8=u0039.Create_1(f7==null?false:f7.$0);return new bH(f3, f8);}):f4===3?bE.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:N(f5.$0);let f8=u0039.Create_1(f7==null?-8640000000000000:f7.$0);return new bI(f3, f8);}):f4===4?bE.GetOrAddHoleFor(fU, f3, () => new bJ(f3, u0039.Create_1([]))):f4===5?bE.GetOrAddHoleFor(fU, f3, () => new bK(f3, u0039.Create_1(N(globalThis.document.querySelector("[ws-dom="+f3+"]"))))):f4===6?bE.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:N(f5.$0);let f8=u0039.Create_1(f7==null?[]:f7.$0);return new bL(f3, f8);}):f("Invalid value type");fX.set_Item(f3, f6);return N(f6);} }, fW)), {$:0, $0:fX}];}
function N(fU){ return{$:1, $0:fU};}
function O(fU){!Q()?(R(true),S(globalThis.document.body, "")):void 0;T().set_Item(fU, U(""));}
function P(fU, fV, fW){ let fX;const fY=(fX=null,[U(fU).TryGetValue(fV==null?"":fV.$0, {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);return fY[0]?V(fY[1].cloneNode(true), fW):(console.warn("Local template doesn't exist", fV),u0036.Empty);}
function Q(){ return cj.LocalTemplatesLoaded;}
function R(fU){ cj.LocalTemplatesLoaded=fU;}
function S(fU, fV){ const fW=U(fV);const fX=new u0038("New_5");const fY=fU.querySelectorAll("[ws-template]");for(let f_=0, f$=fY.length-1;f_<=f$;f_++){ const fZ=fY[f_];const f0=fZ.getAttribute("ws-template").toLowerCase();fZ.removeAttribute("ws-template");fX.set_Item(f0, W(fZ));} const f1=fU.querySelectorAll("[ws-children-template]");for(let ga=0, gb=f1.length-1;ga<=gb;ga++){ const f2=f1[ga];const f3=f2.getAttribute("ws-children-template").toLowerCase();f2.removeAttribute("ws-children-template");fX.set_Item(f3, X(f2));} const f4=fU.querySelectorAll("template[id]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fX.set_Item(f5.getAttribute("id").toLowerCase(), Y(f5));} const f6=fU.querySelectorAll("template[name]");for(let ge=0, gf=f6.length-1;ge<=gf;ge++){ const f7=f6[ge];fX.set_Item(f7.getAttribute("name").toLowerCase(), Y(f7));} const f8=new $("New_3");function f9(gg){ if(!fW.ContainsKey(gg)){ let gh;const gi=(gh=null,[fX.TryGetValue(gg, {get:() => gh, set:(gj) => { gh=gj;}}), gh]);if(gi[0]){ f8.SAdd(gg);fX.RemoveKey(gg);Z(fV, N(gg), gi[1], N(f9));} else console.warn(f8.Contains(gg)?"Encountered loop when instantiating "+gg:"Local template does not exist: "+gg);} } while(fX.count>0)f9(bb(fX.Keys));}
function T(){ return cj.LoadedTemplates;}
function U(fU){ let fV;const fW=(fV=null,[T().TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new u0038("New_5");T().set_Item(fU, fX);return fX;} }
function V(fU, fV){ let fW;const fX=u0030(fU, ba(fV, u0031().Values));const fY=fX[1];const fZ=fX[0];const f0=fZ.Els;return!t(f0, null)&&f0.length===1&&(m(f0, 0)instanceof Node&&(t(m(f0, 0).nodeType, Node.ELEMENT_NODE)&&(fW=m(f0, 0),true)))?cL.TreeNode(fZ, fY):u0036.Mk(bM(fZ), fY);}
function W(fU){ fU.removeAttribute("ws-template");const fV=fU.getAttribute("ws-replace");if(fV==null){ } else { fU.removeAttribute("ws-replace");const fW=fU.parentNode;if(t(fW, null)){ } else { const fX=globalThis.document.createElement(fU.tagName);fX.setAttribute("ws-replace", fV);fW.replaceChild(fX, fU);} } const fY=globalThis.document.createElement("div");fY.appendChild(fU);return fY;}
function X(fU){ const fV=globalThis.document.createElement("div");while(fU.hasChildNodes())fV.appendChild(fU.firstChild);return fV;}
function Y(fU){ const fV=globalThis.document.createElement("div");const fW=fU.content;for(let fX=0, fY=fW.childNodes.length-1;fX<=fY;fX++)fV.appendChild(fW.childNodes[fX].cloneNode(true));return fV;}
function Z(fU, fV, fW, fX){ const fY=new $("New_3");function fZ(f6, f7){ while(true)switch(f6){ case 0:if(f7!==null){ const f8=f7.nextSibling;if(t(f7.nodeType, Node.TEXT_NODE))cU(f7);else if(t(f7.nodeType, Node.ELEMENT_NODE))f1(f7);f7=f8;} else return null;break;case 1:const f9=c2(f7.nodeName, N(3), null).toLowerCase();const f_=f9.indexOf(".");const f$=f_===-1?[fU, f9]:[c2(f9, null, N(f_-1)), c2(f9, N(f_+1), null)];const ga=f$[1];const gb=f$[0];if(gb!=""&&!T().ContainsKey(gb))return cV(ga);else { if(gb==""&&fX!=null)fX.$0(ga);const gc=T().Item(gb);if(!gc.ContainsKey(ga))return cV(ga);else { const gd=gc.Item(ga);const ge=gd.cloneNode(true);const gf=new $("New_3");const gg=new u0038("New_5");const gh=f7.attributes;for(let gr=0, gs=gh.length-1;gr<=gs;gr++){ const gi=gh.item(gr).name.toLowerCase();const gj=gh.item(gr).nodeValue;let gk=gj==""?gi:gj.toLowerCase();gg.set_Item(gi, gk);if(!gf.SAdd(gi))console.warn("Hole mapped twice", gi);} for(let gt=0, gu=f7.childNodes.length-1;gt<=gu;gt++){ const gl=f7.childNodes[gt];if(t(gl.nodeType, Node.ELEMENT_NODE))if(!gf.SAdd(gl.nodeName.toLowerCase()))console.warn("Hole filled twice", ga);} const gm=f7.childNodes.length===1&&t(f7.firstChild.nodeType, Node.TEXT_NODE);if(gm){ const gn=cW(ge, f7.firstChild.textContent, ga);const go=((gv) =>(gw) => gv.SAdd(gw))(gf);let gp=((gv) =>(gw) => { if(gw!=null)gv(gw.$0);})((gv) => { go(gv);});gp(gn);} cX(ge, gf);if(!gm){ for(let gv=0, gw=f7.childNodes.length-1;gv<=gw;gv++){ const gq=f7.childNodes[gv];if(t(gq.nodeType, Node.ELEMENT_NODE))if(gq.hasAttributes())cY(ge, gq);else f0(ge, gq);} } cZ(ge, gg);c0(ge, f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } break;} } function f0(f6, f7){ const f8=f7.nodeName.toLowerCase();const f9=(gb, gc) => { if(f8=="title"&&f7.hasChildNodes()){ const gd=c3(f7.textContent);f7.removeChild(f7.firstChild);while(gd.hasChildNodes())f7.appendChild(gd.firstChild);} f1(f7);return c0(f7, gb, gc);};u0032(f6, "[ws-attr-holes]", (gb) => { const gc=d4(gb.getAttribute("ws-attr-holes"), [" "], 1);for(let gg=0, gh=gc.length-1;gg<=gh;gg++){ const gd=m(gc, gg);let ge=new RegExp("\\${"+f8+"}", "ig");let gf=gb.getAttribute(gd).replace(ge, f7.textContent);gb.setAttribute(gd, gf);} });const f_=f6.querySelector("[ws-hole="+f8+"]");if(t(f_, null)){ const f$=f6.querySelector("[ws-replace="+f8+"]");if(t(f$, null)){ const ga=f6.querySelector("slot[name="+f8+"]");return f6.tagName.toLowerCase()=="template"?(f9(ga.parentNode, ga),void ga.parentNode.removeChild(ga)):null;} else { f9(f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);f_.removeAttribute("ws-hole");return f9(f_, null);} } function f1(f6){ if(!f6.hasAttribute("ws-preserve"))if(d5(f6.nodeName.toLowerCase(), "ws-"))f3(f6);else { c1(f6);f2(f6.firstChild);} } function f2(f6){ return fZ(0, f6);} function f3(f6){ return fZ(1, f6);} function f4(f6){ while(true){ const f7=f6.querySelector("[ws-template]");if(t(f7, null)){ const f8=f6.querySelector("[ws-children-template]");if(t(f8, null)){ const f9=f6.querySelectorAll("template[id]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fY.Contains(f_)){ } else { Z(fU, N(f_.getAttribute("id")), f_, null);fY.SAdd(f_);} } const f$=f6.querySelectorAll("template[name]");for(let gf=1, gg=f$.length-1;gf<=gg;gf++){ const ga=f$[gf];if(fY.Contains(ga)){ } else { Z(fU, N(ga.getAttribute("name")), ga, null);fY.SAdd(ga);} } return null;} else { const gb=f8.getAttribute("ws-children-template");f8.removeAttribute("ws-children-template");Z(fU, N(gb), f8, null);f6=f6;} } else { const gc=f7.getAttribute("ws-template");(u0033(fU, N(gc), f7))(null);f6=f6;} } } const f5=(fV==null?"":fV.$0).toLowerCase();U(fU).set_Item(f5, fW);if(fW.hasChildNodes()){ f4(fW);f2(fW.firstChild);} }
function u0030(fU, fV){ let fW;const fX=[];const fY=[];const fZ=[];const f0=[];const f1=new u0038("New_5");const f2=ce(fV);try { while(f2.MoveNext()){ const f3=f2.Current;f1.set_Item(f3.Name, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} let f4=c4(fU);const f5=(gc, gd) => { const ge=dr(gc, gd);fY.push(ds(ge));fZ.push([gc, ge]);const gf=fP(ge.OnAfterRender);if(gf==null)return null;else { const gg=gf.$0;f0.push(() => { gg(gc);});return;} };const f6=(gc) => { let gd;const ge=(gd=null,[f1.TryGetValue(gc, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(ge[0]){ const gf=ge[1];if(gf instanceof dI)return N(gf.Value);else if(gf instanceof I)return N(u0036.TextNode(gf.Value));else { const gg=gf.ForTextView();return gg==null?null:N(u0036.TextView(gg.$0));} } else return null;};u0032(fU, "[ws-hole]", (gc) => { const gd=gc.getAttribute("ws-hole");gc.removeAttribute("ws-hole");while(gc.hasChildNodes())gc.removeChild(gc.lastChild);const ge=f6(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;ck(gc, gf.docNode);fX.push(cE.New(dt(gc), gf.docNode, null, gc, cF(), null));fY.push(gf.updates);} });u0032(fU, "[ws-replace]", (gc) => { const gd=f6(gc.getAttribute("ws-replace"));if(gd!=null&&gd.$==1){ const ge=gd.$0;const gf=gc.parentNode;const gg=globalThis.document.createTextNode("");gf.replaceChild(gg, gc);const gh=cp(gg, ge.docNode);f4=c4(fU);const gi=bq((gj) => gc===gj, f4);if(gi==null){ } else n(f4, gi.$0, ge.docNode);fX.push(cE.New(dt(gf), ge.docNode, N([gh, gg]), gf, cF(), null));fY.push(ge.updates);} });let f7=false;u0032(fU, "slot", (gc) => { const gd=gc.getAttribute("name");const ge=gd==""||gd==null?"default":gd.toLowerCase();if(f7&&ge=="default"||!t(fU.parentElement, null)){ } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);if(ge=="default")f7=true;const gf=f6(ge);if(gf!=null&&gf.$==1){ const gg=gf.$0;ck(gc, gg.docNode);fX.push(cE.New(dt(gc), gg.docNode, null, gc, cF(), null));fY.push(gg.updates);} } });u0032(fU, "[ws-attr]", (gc) => { let gd;const ge=gc.getAttribute("ws-attr");gc.removeAttribute("ws-attr");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof dJ)f5(gc, gg.Value);else console.warn("Attribute hole filled with non-attribute data", ge);} });u0032(fU, "[ws-on]", (gc) => { f5(gc, dX.Concat(bp((gd) => { let ge;const gf=d4(gd, [":"], 1);const gg=(ge=null,[f1.TryGetValue(m(gf, 1), {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];return gh instanceof dK?N(dL(m(gf, 0), gh.Value)):gh instanceof dW?N(dX.Handler(m(gf, 0), gh.Value)):(console.warn("Event hole on"+m(gf, 0)+" filled with non-event data", m(gf, 1)),null);} else return null;}, d4(gc.getAttribute("ws-on"), [" "], 1))));gc.removeAttribute("ws-on");});u0032(fU, "[ws-onafterrender]", (gc) => { let gd;const ge=gc.getAttribute("ws-onafterrender");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof dY){ gc.removeAttribute("ws-onafterrender");f5(gc, dM(gg.Value));} else if(gg instanceof dZ){ gc.removeAttribute("ws-onafterrender");f5(gc, dM(gg.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ge);} });u0032(fU, "[ws-var]", (gc) => { let gd;const ge=gc.getAttribute("ws-var");gc.removeAttribute("ws-var");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);if(gf[0])gf[1].AddAttribute((gg) =>(gh) => f5(gg, gh), gc);});const f8=() => { u0034("[ws-dom]", (gc) => { let gd;let ge;let gf;const gg=(gd=null,[f1.TryGetValue(gc.getAttribute("ws-dom").toLowerCase(), {get:() => gd, set:(gk) => { gd=gk;}}), gd]);if(gg[0]){ const gh=gg[1];if(gh instanceof bK){ const gi=gh.Value;gc.removeAttribute("ws-dom");ge=gc;const gj=new MutationObserver((gk, gl) => { bu((gm) => { gm.removedNodes.forEach(fQ((gn) => gn[0]===ge&&gm.addedNodes.length!==1?(gi.SetFinal(null),gl.disconnect()):null), null);}, gk);});if(gc.parentElement!==null)gj.observe(gc.parentElement, (gf={},gf.childList=true,gf));gi.Set(N(gc));cN((gk) => { if(gk!=null&&gk.$==1){ const gl=gk.$0;if(ge===gl){ } else { ge.replaceWith(gl);ge=gl;} } else { ge.remove();gj.disconnect();} }, gi.View);} } });};u0032(fU, "[ws-attr-holes]", (gc) => { const gd=new RegExp(u0035(), "g");const ge=d4(gc.getAttribute("ws-attr-holes"), [" "], 1);gc.removeAttribute("ws-attr-holes");for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { let gh;const gi=m(ge, gf);const gj=gc.getAttribute(gi);let gk=null;let gl=0;const gm=[];while(gk=gd.exec(gj),gk!==null){ const gn=c2(gj, N(gl), N(gd.lastIndex-m(gk, 0).length-1));gl=gd.lastIndex;gm.push([gn, m(gk, 1)]);} const go=c2(gj, N(gl), null);gd.lastIndex=0;const gp=bv((gu, gv) =>(((gw) => { const gx=gw[0];const gy=gw[1];return(gz) => { let gA;const gB=gz[0];const gC=gz[1];const gD=(gA=null,[f1.TryGetValue(gy, {get:() => gA, set:(gF) => { gA=gF;}}), gA]);const gE=gD[0]?gD[1].AsChoiceView:d0("");return gE.$==1?[gx, d2.Cons(gB==""?gE.$0:cO((gF) => gF+gB, gE.$0), gC)]:[gx+gE.$0+gB, gC];};})(gu))(gv), gm, [go, d2.Empty]);if(gp[1].$==1){ if(gp[1].$1.$==1){ if(gp[1].$1.$1.$==1){ if(gp[1].$1.$1.$1.$==0){ const gq=gp[0];gh=dN(gi, cP((gu, gv, gw) => gq+gu+gv+gw, gp[1].$0, gp[1].$1.$0, gp[1].$1.$1.$0));} else { const gr=gp[0];gh=dN(gi, cO((gu) => gr+d3("", gu), cQ(gp[1])));} } else { const gs=gp[0];gh=dN(gi, cR((gu, gv) => gs+gu+gv, gp[1].$0, gp[1].$1.$0));} } else if(gp[0]=="")gh=dN(gi, gp[1].$0);else { const gt=gp[0];gh=dN(gi, cO((gu) => gt+gu, gp[1].$0));} } else gh=dX.Create(gi, gp[0]);return f5(gc, gh);})());});let f9=f4;const f_=f0.length==0?N(() => { f8();}):N((gc) => { f8();bu((gd) => { gd(gc);}, f0);});const f$=!t(f4, null)&&f4.length===1&&(m(f4, 0)instanceof Node&&(m(f4, 0)instanceof Element&&(fW=m(f4, 0),true)))?N(fW):null;let ga={Els:f9, Dirty:true, Holes:fX, Attrs:fZ, Render:f_?f_.$0:void 0, El:f$?f$.$0:void 0};let gb=fR(ga, ["Render", "El"]);return[gb, d$(cM(), cS, fY)];}
function u0031(){ return cj.GlobalHoles;}
function u0032(fU, fV, fW){ c_(fU, fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function u0033(fU, fV, fW){ const fX=W(fW);return(fY) => { Z(fU, fV, fX, fY);};}
function u0034(fU, fV){ c$(fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function u0035(){ return cj.TextHoleRE;}
let u0036=fL((fU) => class fV extends k { static { u0036=fU(this);} docNode;updates;static RunById(fW, fX){ const fY=globalThis.document.getElementById(fW);if(t(fY, null))f("invalid id: "+fW);else u0036.Run(fY, fX);} static Run(fW, fX){ ck(fW, fX.docNode);u0036.RunInPlace(false, fW, fX);} static get Empty(){ return u0036.Mk(null, cM());} static RunInPlace(fW, fX, fY){ const fZ=cm(fX, fY.docNode);cN(dg()||dn()?do_1(cn(fW, fZ, fY.docNode)):() => { co(fW, fZ, fY.docNode);}, fY.updates);} static Mk(fW, fX){ return new fV(fW, fX);} static TextNode(fW){ return u0036.Mk(bN(globalThis.document.createTextNode(fW)), cM());} static TextView(fW){ const fX=cx();return u0036.Mk(bO(fX), cO((fY) => { cy(fX, fY);}, fW));} constructor(fW, fX){ super();this.docNode=fW;this.updates=fX;} });
function u0037(fU){ return fU==null?"":fU;}
let u0038=fL((fU) => class fV extends k { static { u0038=fU(this);} equals;hash;count;data;set_Item(fW, fX){ this.set(fW, fX);} set(fW, fX){ const fY=this.hash(fW);const fZ=this.data[fY];if(fZ==null){ this.count=this.count+1;this.data[fY]=new Array({K:fW, V:fX});} else { const f0=bq((f1) => this.equals.apply(null, [(i(f1))[0], fW]), fZ);if(f0==null){ this.count=this.count+1;fZ.push({K:fW, V:fX});} else fZ[f0.$0]={K:fW, V:fX};} } TryGetValue(fW, fX){ const fY=this.data[this.hash(fW)];if(fY==null)return false;else { const fZ=br((f0) => { const f1=i(f0);return this.equals.apply(null, [f1[0], fW])?N(f1[1]):null;}, fY);return fZ!=null&&fZ.$==1&&(fX.set(fZ.$0),true);} } ContainsKey(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:bs((fY) => this.equals.apply(null, [(i(fY))[0], fW]), fX);} RemoveKey(fW){ return this.remove(fW);} get Keys(){ return new df(this);} GetEnumerator(){ return ch(bt(G(this.data)));} get Values(){ return new ed(this);} remove(fW){ const fX=this.hash(fW);const fY=this.data[fX];if(fY==null)return false;else { const fZ=bx((f0) =>!this.equals.apply(null, [(i(f0))[0], fW]), fY);return p(fZ)<fY.length&&(this.count=this.count-1,this.data[fX]=fZ,true);} } Item(fW){ return this.get(fW);} get(fW){ const fX=this.data[this.hash(fW)];return fX==null?cd():bz((fY) => { const fZ=i(fY);return this.equals.apply(null, [fZ[0], fW])?N(fZ[1]):null;}, fX);} static New_5(){ return new this("New_5");} static New_6(fW, fX, fY){ return new this("New_6", fW, fX, fY);} constructor(fW, fX, fY, fZ){ if(fW=="New_5"){ fW="New_6";fX=[];fY=t;fZ=w;} if(fW=="New_6"){ const f0=fX;const f1=fY;const f2=fZ;super();this.equals=f1;this.hash=f2;this.count=0;this.data=[];const f3=ce(f0);try { while(f3.MoveNext()){ const f4=f3.Current;this.set(f4.K, f4.V);} } finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} } } });
let u0039=fL((fU) => class fV extends k { static { u0039=fU(this);} static Create_1(fW){ return new bR(false, {s:cI(fW, [])}, fW);} static { } });
let $=fL((fU) => class fV extends k { static { $=fU(this);} equals;hash;data;count;SAdd(fW){ return this.add(fW);} Contains(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrContains(fW, fX);} add(fW){ const fX=this.hash(fW);const fY=this.data[fX];return fY==null?(this.data[fX]=[fW],this.count=this.count+1,true):this.arrContains(fW, fY)?false:(fY.push(fW),this.count=this.count+1,true);} arrContains(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW]))fY=false;else fZ=fZ+1;return!fY;} GetEnumerator(){ return ce(eG(this.data));} ExceptWith(fW){ const fX=ce(fW);try { while(fX.MoveNext())this.Remove(fX.Current);} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} } get Count(){ return this.count;} IntersectWith(fW){ const fX=new $("New_4", fW, this.equals, this.hash);const fY=eG(this.data);for(let f0=0, f1=fY.length-1;f0<=f1;f0++){ const fZ=fY[f0];if(!fX.Contains(fZ))this.Remove(fZ);} } Remove(fW){ const fX=this.data[this.hash(fW)];return fX==null?false:this.arrRemove(fW, fX)&&(this.count=this.count-1,true);} CopyTo(fW, fX){ const fY=eG(this.data);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)n(fW, fZ+fX, fY[fZ]);} arrRemove(fW, fX){ let fY=true;let fZ=0;const f0=fX.length;while(fY&&fZ<f0)if(this.equals.apply(null, [fX[fZ], fW])){ fX.splice(fZ, 1);fY=false;} else fZ=fZ+1;return!fY;} static New_3(){ return new this("New_3");} static New_4(fW, fX, fY){ return new this("New_4", fW, fX, fY);} static New_2(fW){ return new this("New_2", fW);} constructor(fW, fX, fY, fZ){ if(fW=="New_3"){ fW="New_4";fX=[];fY=t;fZ=w;} let f0;if(fW=="New_2"){ f0=fX;fW="New_4";fX=f0;fY=t;fZ=w;} if(fW=="New_4"){ const f1=fX;const f2=fY;const f3=fZ;super();this.equals=f2;this.hash=f3;this.data=[];this.count=0;const f4=ce(f1);try { while(f4.MoveNext())this.add(f4.Current);} finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} } } });
function ba(fU, fV){ return{GetEnumerator:() => { const fW=ce(fU);const fX=[true];return new ci(fW, null, (fY) => { if(fY.s.MoveNext()){ fY.c=fY.s.Current;return true;} else { const fZ=fY.s;if(!t(fZ, null))fZ.Dispose();fY.s=null;return fX[0]&&(fX[0]=false,fY.s=ce(fV),fY.s.MoveNext()?(fY.c=fY.s.Current,true):(fY.s.Dispose(),fY.s=null,false));} }, (fY) => { const fZ=fY.s;if(!t(fZ, null))fZ.Dispose();});}};}
function bb(fU){ const fV=ce(fU);try { return fV.MoveNext()?fV.Current:dc();} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bc(fU, fV, fW){ let fX=fV;const fY=ce(fW);try { while(fY.MoveNext())fX=fU(fX, fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bd(fU, fV){ const fW=ce(fV);try { while(fW.MoveNext())fU(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function be(fU, fV){ return{GetEnumerator:() => { const fW=ce(fV);return new ci(null, null, (fX) => fW.MoveNext()&&(fX.c=fU(fW.Current),true), () => { fW.Dispose();});}};}
function bf(fU){ return{GetEnumerator:() => ce(fU())};}
function bg(fU, fV){ return bi(be(fU, fV));}
function bh(fU){ const fV=ce(fU);try { if(!fV.MoveNext())bk();let fW=fV.Current;while(fV.MoveNext()){ const fX=fV.Current;if(B(fX, fW)===1)fW=fX;} return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bi(fU){ return{GetEnumerator:() => { const fV=ce(fU);function fW(fX){ while(true){ const fY=fX.s;if(t(fY, null)){ if(fV.MoveNext()){ fX.s=ce(fV.Current);fX=fX;} else { fV.Dispose();return false;} } else if(fY.MoveNext()){ fX.c=fY.Current;return true;} else { fX.Dispose();fX.s=null;fX=fX;} } } return new ci(null, null, fW, (fX) => { const fY=fX.s;if(!t(fY, null))fY.Dispose();if(!t(fV, null))fV.Dispose();});}};}
function bj(fU, fV){ return bl(fU, bm(fV));}
function bk(){ return f("The input sequence was empty.");}
function bl(fU, fV){ fU<0?de():void 0;return{GetEnumerator:() => { const fW=[ce(fV)];return new ci(0, null, (fX) => { fX.s=fX.s+1;if(fX.s>fU)return false;else { const fY=fW[0];return t(fY, null)?dc():fY.MoveNext()?(fX.c=fY.Current,fX.s===fU?(fY.Dispose(),fW[0]=null):void 0,true):(fY.Dispose(),fW[0]=null,dc());} }, () => { const fX=fW[0];if(!t(fX, null))fX.Dispose();});}};}
function bm(fU){ return{GetEnumerator:() => new ci(0, null, (fV) => { fV.c=fU(fV.s);fV.s=fV.s+1;return true;}, void 0)};}
function bn(fU, fV){ return!bo((fW) =>!fU(fW), fV);}
function bo(fU, fV){ const fW=ce(fV);try { let fX=false;while(!fX&&fW.MoveNext())fX=fU(fW.Current);return fX;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bp(fU, fV){ const fW=[];for(let fY=0, fZ=fV.length-1;fY<=fZ;fY++){ const fX=fU(fV[fY]);if(fX==null){ } else fW.push(fX.$0);} return fW;}
function bq(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ fU(fV[fX])?fW=N(fX):void 0;fX=fX+1;} return fW;}
function br(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ const fY=fU(fV[fX]);if(fY!=null&&fY.$==1)fW=fY;fX=fX+1;} return fW;}
function bs(fU, fV){ let fW=false;let fX=0;while(!fW&&fX<p(fV))if(fU(fV[fX]))fW=true;else fX=fX+1;return fW;}
function bt(fU){ return Array.prototype.concat.apply([], by(fU));}
function bu(fU, fV){ for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function bv(fU, fV, fW){ let fX=fW;const fY=fV.length;for(let fZ=1, f0=fY;fZ<=f0;fZ++)fX=fU(fV[fY-fZ], fX);return fX;}
function bw(fU, fV){ const fW=new Array(fV.length);for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW[fX]=fU(fV[fX]);return fW;}
function bx(fU, fV){ const fW=[];for(let fX=0, fY=fV.length-1;fX<=fY;fX++)if(fU(fV[fX]))fW.push(fV[fX]);return fW;}
function by(fU){ if(fU instanceof Array)return fU.slice();else if(fU instanceof d2)return bA(fU);else { const fV=[];const fW=ce(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
function bz(fU, fV){ const fW=br(fU, fV);return fW==null?f("KeyNotFoundException"):fW.$0;}
function bA(fU){ const fV=[];let fW=fU;while(!(fW.$==0)){ fV.push(e3(fW));fW=e4(fW);} return fV;}
function bB(fU, fV){ let fW=true;let fX=0;while(fW&&fX<p(fV))if(fU(fV[fX]))fX=fX+1;else fW=false;return fW;}
function bC(fU, fV){ const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV;return fW;}
function bD(fU, fV){ if(fU<0)f("Negative size given.");else null;const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV(fX);return fW;}
let bE=fL((fU) => class fV extends k { static { bE=fU(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fW, fX, fY){ let fZ;const f0=bE.GetHolesFor(fW);const f1=(fZ=null,[f0.TryGetValue(fX, {get:() => fZ, set:(f3) => { fZ=f3;}}), fZ]);if(f1[0])return f1[1];else { const f2=fY();f0.set_Item(fX, f2);return f2;} } static GetHolesFor(fW){ let fX;const fY=(fX=null,[bE.initialized.TryGetValue(fW, {get:() => fX, set:(f0) => { fX=f0;}}), fX]);if(fY[0])return fY[1];else { const fZ=new u0038("New_5");bE.initialized.set_Item(fW, fZ);return fZ;} } static { bE.initialized=new u0038("New_5");bE.instances=new u0038("New_5");} });
let bF=fL((fU) => { fO(r);return class fV extends r { static { bF=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(this.fillWith.View);} AddAttribute(fW, fX){(fW(fX))(dO(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bG=fL((fU) => { fO(r);return class fV extends r { static { bG=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(cO(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(dP(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bH=fL((fU) => { fO(r);return class fV extends r { static { bH=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(cO(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(dQ(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bI=fL((fU) => { fO(r);return class fV extends r { static { bI=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(cO((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(dR(this.fillWith));} get AsChoiceView(){ return d1(cO((fW) =>(new Date(fW)).toLocaleString(), this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bJ=fL((fU) => { fO(r);return class fV extends r { static { bJ=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(cO(String, this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(dS(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bK=fL((fU) => { fO(r);return class fV extends r { static { bK=fU(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
let bL=fL((fU) => { fO(r);return class fV extends r { static { bL=fU(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return N(cO((fW) => d3(",", fW), this.fillWith.View));} AddAttribute(fW, fX){(fW(fX))(dT(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fW, fX){ super();this.name=fW;this.fillWith=fX;} };});
function bM(fU){ return{$:6, $0:fU};}
function bN(fU){ return{$:5, $0:fU};}
function bO(fU){ return{$:4, $0:fU};}
let bP=fL((fU) => class fV { static { bP=fU(this);} });
function bQ(fU, fV){ return fC(fU, -2147483648, 2147483647, fV);}
let bR=fL((fU) => { fO(s);return class fV extends s { static { bR=fU(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dq(this.snap);this.current=fW;this.snap={s:cI(fW, [])};} } SetFinal(fW){ if(this.isConst)(((fX) => fX("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fX) => { console.log(fX);}));else { dq(this.snap);this.isConst=true;this.current=fW;this.snap={s:cJ(fW)};} } Get(){ return this.current;} UpdateMaybe(fW){ const fX=fW(this.Get());if(fX!=null&&fX.$==1)this.Set(fX.$0);} constructor(fW, fX, fY){ super();this.isConst=fW;this.current=fY;this.snap=fX;this.view=() => this.snap;this.id=cF();} };});
function bS(fU, fV, fW){ const fX=fU.s;if(fX==null)fW();else fX!=null&&fX.$==2?(fX.$1.push(fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),fX.$1.push(fW)):fV(fX.$0);}
function bT(fU, fV){ const fW=fV.s;if(fW!=null&&fW.$==0)return{s:cJ(fU(fW.$0))};else { const fX={s:cK([], [])};b0(fV, (fY) => { b1(fX, fV, fU(fY));}, fX);return fX;} }
function bU(fU, fV, fW, fX){ const fY=fV.s;const fZ=fW.s;const f0=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?f0!=null&&f0.$==0?{s:cJ(fU(fY.$0, fZ.$0, f0.$0))}:b2(fU, fY.$0, fZ.$0, fX):f0!=null&&f0.$==0?b3(fU, fY.$0, f0.$0, fW):b4(fU, fY.$0, fW, fX);else if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?b5(fU, fZ.$0, f0.$0, fV):b6(fU, fZ.$0, fV, fX);else if(f0!=null&&f0.$==0)return b7(fU, f0.$0, fV, fW);else { const f1={s:cK([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=b8(fV);const f5=b8(fW);const f6=b8(fX);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f4.$0[1]&&f5.$0[1]&&f6.$0[1])b9(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));else b_(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));} };b0(fV, f2, f1);b0(fW, f2, f1);b0(fX, f2, f1);return f1;} }
function bV(fU){ const fV=by(fU);if(fV.length==0)return{s:cJ([])};else { const fW={s:cK([], [])};const fX=[p(fV)-1];const fY=() => { if(fX[0]===0){ const fZ=bw((f0) => { const f1=f0.s;return f1!=null&&f1.$==0?f1.$0:f1!=null&&f1.$==2?f1.$0:f("value not found by View.Sequence");}, fV);if(bB((f0) => { const f1=f0.s;return f1!=null&&f1.$==0;}, fV))b9(fW, fZ);else b_(fW, fZ);} else fX[0]=fX[0]-1;};bu((fZ) => { b0(fZ, fY, fW);}, fV);return fW;} }
function bW(fU, fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:cJ(fU(fX.$0, fY.$0))}:b$(fU, fX.$0, fW);else if(fY!=null&&fY.$==0)return ca(fU, fY.$0, fV);else { const fZ={s:cK([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=b8(fV);const f3=b8(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])b9(fZ, fU(f2.$0[0], f3.$0[0]));else b_(fZ, fU(f2.$0[0], f3.$0[0]));} };b0(fV, f0, fZ);b0(fW, f0, fZ);return fZ;} }
function bX(fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:cJ(null)}:fV;else if(fX!=null&&fX.$==0)return fU;else { const fY={s:cK([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=b8(fU);const f2=b8(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])b9(fY, null);else b_(fY, null);} };b0(fU, fZ, fY);b0(fV, fZ, fY);return fY;} }
function bY(fU){ const fV=fU.s;if(fV==null)return fU;else if(fV!=null&&fV.$==2){ const fW={s:cI(fV.$0, [])};cb(fU, fW);return fW;} else if(fV!=null&&fV.$==3){ const fX={s:cK([], [])};b0(fU, (fY) => { b1(fX, fU, fY);}, fX);return fX;} else return fU;}
function bZ(fU, fV){ const fW=fU.s;if(fW==null)fV();else fW!=null&&fW.$==2?fW.$1.push(fV):fW!=null&&fW.$==3?fW.$1.push(fV):void 0;}
function b0(fU, fV, fW){ const fX=fU.s;if(fX==null)dq(fW);else fX!=null&&fX.$==2?(cc(fX.$1, fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),cc(fX.$1, fW)):fV(fX.$0);}
function b1(fU, fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==0)b9(fU, fW);else b_(fU, fW);}
function b2(fU, fV, fW, fX){ return bT((fY) => fU(fV, fW, fY), fX);}
function b3(fU, fV, fW, fX){ return bT((fY) => fU(fV, fY, fW), fX);}
function b4(fU, fV, fW, fX){ return bW((fY, fZ) => fU(fV, fY, fZ), fW, fX);}
function b5(fU, fV, fW, fX){ return bT((fY) => fU(fY, fV, fW), fX);}
function b6(fU, fV, fW, fX){ return bW((fY, fZ) => fU(fY, fV, fZ), fW, fX);}
function b7(fU, fV, fW, fX){ return bW((fY, fZ) => fU(fY, fZ, fV), fW, fX);}
function b8(fU){ const fV=fU.s;return fV!=null&&fV.$==0?N([fV.$0, true]):fV!=null&&fV.$==2?N([fV.$0, false]):null;}
function b9(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=cJ(fV);const fX=fW.$0;for(let fY=0, fZ=p(fX)-1;fY<=fZ;fY++)(m(fX, fY))(fV);} else void 0;}
function b_(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=cI(fV, fW.$1);const fX=fW.$0;for(let fY=0, fZ=p(fX)-1;fY<=fZ;fY++)(m(fX, fY))(fV);} else void 0;}
function b$(fU, fV, fW){ return bT((fX) => fU(fV, fX), fW);}
function ca(fU, fV, fW){ return bT((fX) => fU(fX, fV), fW);}
function cb(fU, fV){ const fW=fU.s;if(fW==null)dq(fV);else fW!=null&&fW.$==2?cc(fW.$1, fV):fW!=null&&fW.$==3?cc(fW.$1, fV):void 0;}
function cc(fU, fV){ fU.push(fV);if(fU.length%20===0){ const fW=fU.slice(0);fI(fU);for(let fY=0, fZ=p(fW)-1;fY<=fZ;fY++){ const fX=m(fW, fY);if(typeof fX=="object")(((f0) => { if(f0.s)fU.push(f0);})(fX));else(((f0) => { fU.push(f0);})(fX));} } else void 0;}
function cd(){ throw new eP("New");}
function ce(fU){ return fU instanceof Array?cf(fU):t(typeof fU, "string")?cg(fU):fU.GetEnumerator();}
function cf(fU){ return new ci(0, null, (fV) => { const fW=fV.s;return fW<p(fU)&&(fV.c=m(fU, fW),fV.s=fW+1,true);}, void 0);}
function cg(fU){ return new ci(0, null, (fV) => { const fW=fV.s;return fW<fU.length&&(fV.c=fU[fW],fV.s=fW+1,true);}, void 0);}
function ch(fU){ return fU instanceof Array?cf(fU):t(typeof fU, "string")?cg(fU):"GetEnumerator0"in fU?fU.GetEnumerator0():fU.GetEnumerator();}
let ci=fL((fU) => class fV extends k { static { ci=fU(this);} s;c;n;d;e;MoveNext(){ const fW=this.n(this);this.e=fW?1:2;return fW;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fW, fX, fY, fZ){ super();this.s=fW;this.c=fX;this.n=fY;this.d=fZ;this.e=0;} });
let cj=fL((fU) => class fV { static { cj=fU(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new u0038("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new u0038("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function ck(fU, fV){ cl(fU, fV, null);}
function cl(fU, fV, fW){ while(true){ if(fV!=null&&fV.$==1)return cq(fU, fV.$0.El, fW);else if(fV!=null&&fV.$==2){ const fX=fV.$0;fX.Dirty=false;fV=fX.Current;} else if(fV==null)return fW;else if(fV!=null&&fV.$==4)return cq(fU, fV.$0.Text, fW);else if(fV!=null&&fV.$==5)return cq(fU, fV.$0, fW);else if(fV!=null&&fV.$==6)return bv((f0, f1) =>((((f2) =>(f3) =>(f4) => f3==null||f3.constructor===Object?cl(f2, f3, f4):cq(f2, f3, f4))(fU))(f0))(f1), fV.$0.Els, fW);else { const fY=fV.$1;const fZ=fV.$0;fV=fZ;fW=cl(fU, fY, fW);} } }
function cm(fU, fV){ return ee(ef(), cr(fU, dx(), fV));}
function cn(fU, fV, fW){ if(dg()){ const fX=null;return em(() => { const fY=eg(fW);const fZ=cv(fV, fY);const f0=cu(fV, fY);return en(dh(di(fZ, ct(fV, fY))), () => en(cs(fU, fV), () => en(dh(f0), () => { fV.PreviousNodes=fY;return eq(null);})));});} else return cs(fU, fV);}
function co(fU, fV, fW){ const fX=eg(fW);cw(fU, fV.Top);fV.PreviousNodes=fX;}
function cp(fU, fV){ const fW=fU.parentNode;const fX=globalThis.document.createTextNode("");fW.insertBefore(fX, fU);cz(fU, fV);return fX;}
function cq(fU, fV, fW){ da(fU, fW, fV);return fV;}
function cr(fU, fV, fW){ ck(fU, fW);const fX=dr(fU, fV);return cE.New(fX, fW, null, fU, cF(), fP(fX.OnAfterRender));}
function cs(fU, fV){ if(dn()){ const fW=(fX) => { requestAnimationFrame(() => { cw(fU, fV.Top);fX();});};return ev((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} else { cw(fU, fV.Top);return eq(null);} }
function ct(fU, fV){ return dl(bw((fW) => dz(fW.Attr), ek(ej(fV, ei((fW) => dy(fW.Attr), fU.PreviousNodes)))));}
function cu(fU, fV){ return dl(bw((fW) => dB(fW.Attr), ek(ej(fU.PreviousNodes, ei((fW) => dA(fW.Attr), fV)))));}
function cv(fU, fV){ const fW=(fY) => dC(fY.Attr);const fX=(fY) => ei(fW, fY);return dl(bw((fY) => dD(fY.Attr), ek(el(fX(fU.PreviousNodes), fX(fV)))));}
function cw(fU, fV){!fU?cA(fV):void 0;cB(fV.Children);cC(fV);}
function cx(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cy(fU, fV){ fU.Value=fV;fU.Dirty=true;}
function cz(fU, fV){ cl(fU.parentNode, fV, fU);}
function cA(fU){ function fV(fW){ function fX(fY){ while(true){ if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;if(fX(f0))return true;else fY=fZ;} else if(fY!=null&&fY.$==2){ const f1=fY.$0;if(f1.Dirty)return true;else fY=f1.Current;} else if(fY!=null&&fY.$==6){ const f2=fY.$0;return f2.Dirty||bs(fV, f2.Holes);} else return false;} } return fX(fW.Children);} dG(fU.El, fU.Attr);if(fV(fU))cD(fU);}
function cB(fU){ while(true){ if(fU!=null&&fU.$==1)return cw(false, fU.$0);else if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU==null)return null;else if(fU!=null&&fU.$==5)return null;else if(fU!=null&&fU.$==4){ const fW=fU.$0;return fW.Dirty?(fW.Text.nodeValue=fW.Value,fW.Dirty=false):null;} else if(fU!=null&&fU.$==6){ const fX=fU.$0;bu((f0) => { cw(false, f0);}, fX.Holes);bu((f0) => { dG(f0[0], f0[1]);}, fX.Attrs);return cC(fX);} else { const fY=fU.$1;const fZ=fU.$0;cB(fZ);fU=fY;} } }
function cC(fU){ const fV=fP(fU.Render);if(fV!=null&&fV.$==1){ fV.$0(fU.El);fN(fU, "Render", null);} }
function cD(fU){ const fV=fU.El;function fW(f0, f1){ while(true){ if(f0!=null&&f0.$==1)return f0.$0.El;else if(f0!=null&&f0.$==2){ const f2=f0.$0;if(f2.Dirty){ f2.Dirty=false;return cl(fV, f2.Current, f1);} else f0=f2.Current;} else if(f0==null)return f1;else if(f0!=null&&f0.$==4)return f0.$0.Text;else if(f0!=null&&f0.$==5)return f0.$0;else if(f0!=null&&f0.$==6){ const f3=f0.$0;if(f3.Dirty)f3.Dirty=false;return bv((f6, f7) => f6==null||f6.constructor===Object?fW(f6, f7):f6, f3.Els, f1);} else { const f4=f0.$1;const f5=f0.$0;f0=f5;f1=fW(f4, f1);} } } const fX=fU.El;fx((f0) => { db(fX, f0);}, fw(fy(fU), fv(fU.El, fP(fU.Delimiters))));let fY=fU.Children;const fZ=fP(fU.Delimiters);fW(fY, fZ!=null&&fZ.$==1?fZ.$0[1]:null);}
let cE=fL((fU) => class fV { static { cE=fU(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(fW){ return this.ElKey===fW.ElKey;} GetHashCode(){ return this.ElKey;} static New(fW, fX, fY, fZ, f0, f1){ const f2={Attr:fW, Children:fX, El:fZ, ElKey:f0};let f3=(fN(f2, "Delimiters", fY),fN(f2, "Render", f1),f2);return fS(cE, f3);} });
function cF(){ cG(cH()+1);return cH();}
function cG(fU){ eH.counter=fU;}
function cH(){ return eH.counter;}
function cI(fU, fV){ return{$:2, $0:fU, $1:fV};}
function cJ(fU){ return{$:0, $0:fU};}
function cK(fU, fV){ return{$:3, $0:fU, $1:fV};}
let cL=fL((fU) => { fO(u0036);return class fV extends u0036 { static { cL=fU(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(fW, fX){ const fY=ec.Create(fX);const fZ=bw((f2) => ds(f2[1]), fW.Attrs);let f0=d$(cM(), cS, fZ);let f1=cS(f0, fY.v);return new fV(bM(fW), f1, m(fW.Els, 0), fY);} constructor(fW, fX, fY, fZ){ super(fW, fX);this.docNode_1=fW;this.updates_1=fX;this.elt=fY;this.rvUpdates=fZ;} };});
function cM(fU){ const fV={s:cJ(fU)};return() => fV;}
function cN(fU, fV){ function fW(){ bS(fV(), fU, () => { er().Fork(fW);});} er().Fork(fW);}
function cO(fU, fV){ return cT(() => bT(fU, fV()));}
function cP(fU, fV, fW, fX){ return cT(() => bU(fU, fV(), fW(), fX()));}
function cQ(fU){ return cT(() => bV(be((fV) => fV(), fU)));}
function cR(fU, fV, fW){ return cT(() => bW(fU, fV(), fW()));}
function cS(fU, fV){ return cT(() => bX(fU(), fV()));}
function cT(fU){ const fV={c:null, o:fU};return() => { let fW=fV.c;if(fW===null){ fW=fV.o();fV.c=fW;const fX=fW.s;if(fX!=null&&fX.$==0)fV.o=null;else bZ(fW, () => { fV.c=null;});return fW;} else return fW;};}
function cU(fU){ let fV=null;let fW=0;const fX=fU.textContent;const fY=new RegExp(u0035(), "g");while(fV=fY.exec(fX),fV!==null){ fU.parentNode.insertBefore(globalThis.document.createTextNode(c2(fX, N(fW), N(fY.lastIndex-m(fV, 0).length-1))), fU);fW=fY.lastIndex;const fZ=globalThis.document.createElement("span");fZ.setAttribute("ws-replace", m(fV, 1).toLowerCase());fU.parentNode.insertBefore(fZ, fU);} fY.lastIndex=0;fU.textContent=c2(fX, N(fW), null);}
function cV(fU){ console.warn("Instantiating non-loaded template", fU);}
function cW(fU, fV, fW){ const fX=fU.querySelector("[ws-replace]");return t(fX, null)?(console.warn("Filling non-existent text hole", fW),null):(fX.parentNode.replaceChild(globalThis.document.createTextNode(fV), fX),N(fX.getAttribute("ws-replace")));}
function cX(fU, fV){ const fW=(fX) => { u0032(fU, "["+fX+"]", (fY) => { if(!fV.Contains(fY.getAttribute(fX)))fY.removeAttribute(fX);});};fW("ws-attr");fW("ws-onafterrender");fW("ws-var");u0032(fU, "[ws-hole]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-hole"))){ fX.removeAttribute("ws-hole");while(fX.hasChildNodes())fX.removeChild(fX.lastChild);} });u0032(fU, "[ws-replace]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-replace")))fX.parentNode.removeChild(fX);});u0032(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", d3(" ", bx((fY) => fV.Contains(m(d4(fY, [":"], 1), 1)), d4(fX.getAttribute("ws-on"), [" "], 1))));});u0032(fU, "[ws-attr-holes]", (fX) => { const fY=d4(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=fY.length-1;f2<=f3;f2++){ const fZ=m(fY, f2);let f0=new RegExp(u0035(), "g");let f1=fX.getAttribute(fZ).replace(f0, (f4, f5) => fV.Contains(f5)?f4:"");fX.setAttribute(fZ, f1);} });}
function cY(fU, fV){ c1(fV);const fW=fV.nodeName.toLowerCase();const fX=fU.querySelector("[ws-attr="+fW+"]");if(t(fX, null))console.warn("Filling non-existent attr hole", fW);else { fX.removeAttribute("ws-attr");for(let fZ=0, f0=fV.attributes.length-1;fZ<=f0;fZ++){ const fY=fV.attributes.item(fZ);if(fY.name=="class"&&fX.hasAttribute("class"))fX.setAttribute("class", fX.getAttribute("class")+" "+fY.nodeValue);else fX.setAttribute(fY.name, fY.nodeValue);} } }
function cZ(fU, fV){ const fW=(fX) => { u0032(fU, "["+fX+"]", (fY) => { let fZ;const f0=(fZ=null,[fV.TryGetValue(fY.getAttribute(fX).toLowerCase(), {get:() => fZ, set:(f1) => { fZ=f1;}}), fZ]);if(f0[0])fY.setAttribute(fX, f0[1]);});};fW("ws-hole");fW("ws-replace");fW("ws-attr");fW("ws-onafterrender");fW("ws-var");u0032(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", d3(" ", bw((fY) => { let fZ;const f0=d4(fY, [":"], 1);const f1=(fZ=null,[fV.TryGetValue(m(f0, 1), {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);return f1[0]?m(f0, 0)+":"+f1[1]:fY;}, d4(fX.getAttribute("ws-on"), [" "], 1))));});u0032(fU, "[ws-attr-holes]", (fX) => { const fY=d4(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)((() => { const f1=m(fY, fZ);return fX.setAttribute(f1, bc((f2, f3) => { const f4=i(f3);return f2.replace(new RegExp("\\${"+f4[0]+"}", "ig"), "${"+f4[1]+"}");}, fX.getAttribute(f1), fV));})());});}
function c0(fU, fV, fW){ while(true){ if(fU.hasChildNodes())fW=fV.insertBefore(fU.lastChild, fW);else return null;} }
function c1(fU){ const fV=fU.attributes;const fW=[];const fX=[];const fY=[];for(let f3=0, f4=fV.length-1;f3<=f4;f3++){ const fZ=fV.item(f3);if(d5(fZ.nodeName, "ws-on")&&fZ.nodeName!="ws-onafterrender"&&fZ.nodeName!="ws-on"){ fW.push(fZ.nodeName);fX.push(c2(fZ.nodeName, N("ws-on".length), null)+":"+fZ.nodeValue.toLowerCase());} else if(!d5(fZ.nodeName, "ws-")&&(new RegExp(u0035())).test(fZ.nodeValue)){ let f0=new RegExp(u0035(), "g");let f1=fZ.nodeValue.replace(f0, (f5, f6) =>"${"+f6.toLowerCase()+"}");fZ.nodeValue=f1;fY.push(fZ.nodeName);} else void 0;} if(!(fX.length==0))fU.setAttribute("ws-on", d3(" ", fX));if(!(fY.length==0))fU.setAttribute("ws-attr-holes", d3(" ", fY));const f2=(f5) => { const f6=fU.getAttribute(f5);if(f6==null){ } else fU.setAttribute(f5, f6.toLowerCase());};f2("ws-hole");f2("ws-replace");f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bu((f5) => { fU.removeAttribute(f5);}, fW);}
function c2(fU, fV, fW){ if(fV==null){ if(fW!=null&&fW.$==1){ const fX=fW.$0;return fX<0?"":fU.slice(0, fX+1);} else return"";} else if(fW==null)return fU.slice(fV.$0);else { const fY=fW.$0;return fY<0?"":fU.slice(fV.$0, fY+1);} }
function c3(fU){ const fV=globalThis.document.createElement("div");if(!c5().test(fU)){ fV.appendChild(globalThis.document.createTextNode(fU));return fV;} else { const fW=c9().exec(fU);const fX=t(fW, null)?"":m(fW, 1).toLowerCase();const fY=(c6())[fX];const fZ=fY?fY:c7();fV.innerHTML=fZ[1]+fU.replace(c8(), "<$1></$2>")+fZ[2];function f0(f1, f2){ while(true){ if(f2===0)return f1;else { const f3=f2;f1=f1.lastChild;f2=f3-1;} } } return f0(fV, fZ[0]);} }
function c4(fU){ const fV=[];for(let fW=0, fX=fU.childNodes.length-1;fW<=fX;fW++)fV.push(fU.childNodes[fW]);return fV;}
function c5(){ return eI.rhtml;}
function c6(){ return eI.wrapMap;}
function c7(){ return eI.defaultWrap;}
function c8(){ return eI.rxhtmlTag;}
function c9(){ return eI.rtagName;}
function c_(fU, fV, fW){ const fX=fU.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function c$(fU, fV){ const fW=globalThis.document.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function da(fU, fV, fW){ let fX;if(fW.parentNode===fU){ const fY=fW.nextSibling;let fZ=t(fY, null)?null:fY;fX=fV===fZ;} else fX=false;if(!fX)fU.insertBefore(fW, fV);}
function db(fU, fV){ if(fV.parentNode===fU)fU.removeChild(fV);}
function dc(){ return f("The input sequence has an insufficient number of elements.");}
function dd(fU, fV){ let fW=true;let fX=0;while(fW&&fX<p(fV))if(t(fV[fX], fU))fW=false;else fX=fX+1;return!fW;}
function de(){ return f("The input must be non-negative.");}
let df=fL((fU) => class fV extends k { static { df=fU(this);} d;GetEnumerator(){ return ce(be((fW) => fW.K, this.d));} constructor(fW){ super();this.d=fW;} });
function dg(){ return ex();}
function dh(fU){ const fV=null;return em(() => en(dj(() => { }, ey(fU)), () => { ez(fU);return eq(null);}));}
function di(fU, fV){ return dk(eK(fU.$0, fV.$0));}
function dj(fU, fV){ const fW=fV.Duration;if(fW===0)return eo();else { const fX=(fY) => { function fZ(f0){ return(f1) => { const f2=f1-f0;fV.Compute(f2);fU();return f2<=fW?void requestAnimationFrame((f3) => {(fZ(f0))(f3);}):fY();};} requestAnimationFrame((f0) => {(fZ(f0))(f0);});};return ev((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} }
function dk(fU){ return{$:0, $0:fU};}
function dl(fU){ return dk(eM(be(eB, fU)));}
function dm(){ return dk(eN());}
function dn(){ return eF.BatchUpdatesEnabled;}
function do_1(fU){ const fV=[0];function fW(){ const fX=null;return em(() => en(fU, () => { const fY=fV[0];return t(fY, 1)?(fV[0]=0,eo()):t(fY, 2)?(fV[0]=1,fW()):eo();}));} return() => { const fX=fV[0];if(t(fX, 0)){ fV[0]=1;ep(fW(), null);} else t(fX, 1)?fV[0]=2:void 0;};}
function dp(fU, fV, fW, fX){ const fY={DynElem:fU, DynFlags:fV, DynNodes:fW};fN(fY, "OnAfterRender", fX);return fY;}
function dq(fU){ let fV;const fW=fU.s;if(fW==null||(fW!=null&&fW.$==2?(fV=fW.$1,false):fW!=null&&fW.$==3?(fV=fW.$1,false):true))void 0;else { fU.s=null;for(let fY=0, fZ=p(fV)-1;fY<=fZ;fY++){ const fX=m(fV, fY);if(typeof fX=="object")(((f0) => { dq(f0);})(fX));else fX();} } }
function dr(fU, fV){ const fW=[];const fX=[];function fY(f1){ while(true){ if(!(f1===null)){ if(f1!=null&&f1.$==1)return fW.push(f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$1;const f3=f1.$0;fY(f3);f1=f2;} else return f1!=null&&f1.$==3?f1.$0(fU):f1!=null&&f1.$==4?fX.push(f1.$0):null;} else return null;} } fY(fV);const fZ=fW.slice(0);let f0=dp(fU, du(fV), fZ, fX.length===0?null:N((f1) => { bd((f2) => { f2(f1);}, fX);}));return f0;}
function ds(fU){ return ea((fV) => fV.NChanged, cM(), cS, fU.DynNodes);}
function dt(fU){ return dp(fU, 0, [], null);}
function du(fU){ return fU!==null&&fU.hasOwnProperty("flags")?fU.flags:0;}
function dv(fU){ return dX.A3(fU);}
function dw(fU, fV){ return dX.A1(new eO(fU, fV));}
function dx(){ return eQ.EmptyAttr;}
function dy(fU){ const fV=2;return(fU.DynFlags&fV)===fV;}
function dz(fU){ return dF(fU, (fV, fW) => fV.NGetExitAnim(fW));}
function dA(fU){ const fV=1;return(fU.DynFlags&fV)===fV;}
function dB(fU){ return dF(fU, (fV, fW) => fV.NGetEnterAnim(fW));}
function dC(fU){ const fV=4;return(fU.DynFlags&fV)===fV;}
function dD(fU){ return dF(fU, (fV, fW) => fV.NGetChangeAnim(fW));}
function dE(fU, fV){ if(fU===null)return fV;else if(fV===null)return fU;else { const fW=dX.A2(fU, fV);dH(fW, du(fU)|du(fV));return fW;} }
function dF(fU, fV){ return dl(bw((fW) => fV(fW, fU.DynElem), fU.DynNodes));}
function dG(fU, fV){ bu((fW) => { fW.NSync(fU);}, fV.DynNodes);}
function dH(fU, fV){ fU.flags=fV;}
let dI=fL((fU) => { fO(r);return class fV extends r { static { dI=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dJ=fL((fU) => { fO(r);return class fV extends r { static { dJ=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dK=fL((fU) => { fO(r);return class fV extends r { static { dK=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function dL(fU, fV){ return dv((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});}
function dM(fU){ return dX.A4(fU);}
function dN(fU, fV){ return dw(fV, (fW) =>(fX) => fW.setAttribute(fU, fX));}
function dO(fU){ return dU(fm(), fU);}
function dP(fU){ return dU(fn(), fU);}
function dQ(fU){ return dU(fo(), fU);}
function dR(fU){ return dU(fp(), fU);}
function dS(fU){ return dU(fq(), fU);}
function dT(fU){ return dU(fr(), fU);}
function dU(fU, fV){ const fW=fU(fV);return dX.Append(dv(fW[0]), dV(fW[1], fW[2]));}
function dV(fU, fV){ return dw(fV, fU);}
let dW=fL((fU) => { fO(r);return class fV extends r { static { dW=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dX=fL((fU) => class fV { static { dX=fU(this);} static Handler(fW, fX){ return dX.HandlerImpl(fW, fX);} static Concat(fW){ const fX=eb(fW);return d$(dx(), dX.Append, fX);} static Create(fW, fX){ return dv((fY) => { fY.setAttribute(fW, fX);});} static HandlerImpl(fW, fX){ return dv((fY) => { fY.addEventListener(fW, (fZ) =>(fX(fY))(fZ), false);});} static Append(fW, fX){ return dE(fW, fX);} static A4(fW){ return fS(fV, {$:4, $0:fW});} static A3(fW){ return fS(fV, {$:3, $0:fW});} static A1(fW){ return fS(fV, {$:1, $0:fW});} static A2(fW, fX){ return fS(fV, {$:2, $0:fW, $1:fX});} });
let dY=fL((fU) => { fO(r);return class fV extends r { static { dY=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let dZ=fL((fU) => { fO(r);return class fV extends r { static { dZ=fU(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function d0(fU){ return{$:0, $0:fU};}
function d1(fU){ return{$:1, $0:fU};}
let d2=fL((fU) => class fV { static { d2=fU(this);} static Cons(fW, fX){ return fS(fV, {$:1, $0:fW, $1:fX});} static Empty=fS(d2, {$:0});GetEnumerator(){ return new ci(this, null, (fW) => { const fX=fW.s;return fX.$==0?false:(fW.c=fX.$0,fW.s=fX.$1,true);}, void 0);} });
function d3(fU, fV){ return by(fV).join(fU);}
function d4(fU, fV, fW){ return d6(fU, new RegExp("["+d7(fV.join(""))+"]"), fW);}
function d5(fU, fV){ return fU.substring(0, fV.length)==fV;}
function d6(fU, fV, fW){ return fW===1?bx((fX) => fX!=="", d8(fU, fV)):d8(fU, fV);}
function d7(fU){ return fU.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d8(fU, fV){ return fU.split(fV);}
function d9(fU, fV){ return bn(fU, d_(fV));}
function d_(fU){ return fU==null?"":fU;}
function d$(fU, fV, fW){ const fX=p(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return m(fW, fZ);case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function ea(fU, fV, fW, fX){ const fY=p(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return fU(m(fX, f0));case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function eb(fU){ if(fU instanceof Array)return fU;else if(fU instanceof d2)return bA(fU);else if(fU===null)return[];else { const fV=[];const fW=ce(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
let ec=fL((fU) => class fV { static { ec=fU(this);} c;s;v;static Create(fW){ let fX;fX=null;fX=ec.New(fW, null, () => { let fY;fY=fX.s;return fY===null?(fY=bY(fX.c()),fX.s=fY,bZ(fY, () => { fX.s=null;}),fY):fY;});return fX;} static New(fW, fX, fY){ return fS(ec, {c:fW, s:fX, v:fY});} });
let ed=fL((fU) => class fV extends k { static { ed=fU(this);} d;GetEnumerator(){ return ce(be((fW) => fW.V, this.d));} constructor(fW){ super();this.d=fW;} });
function ee(fU, fV){ return{PreviousNodes:fU, Top:fV};}
function ef(){ return eh(new $("New_3"));}
function eg(fU){ const fV=[];function fW(fZ, f0){ while(true)switch(fZ){ case 0:if(f0!=null&&f0.$==0){ const f1=f0.$1;const f2=f0.$0;fW(0, f2);f0=f1;} else if(f0!=null&&f0.$==1){ const f3=f0.$0;f0=f3;fZ=1;} else if(f0!=null&&f0.$==2){ const f4=f0.$0;f0=f4.Current;} else if(f0!=null&&f0.$==6){ const f5=f0.$0.Holes;return(((f6) =>(f7) => { bu(f6, f7);})(fY))(f5);} else return null;break;case 1:fV.push(f0);f0=f0.Children;fZ=0;break;} } function fX(fZ){ return fW(0, fZ);} function fY(fZ){ return fW(1, fZ);} fX(fU);return eh(new $("New_2", fV));}
function eh(fU){ return{$:0, $0:fU};}
function ei(fU, fV){ return eh(eZ(fU, fV.$0));}
function ej(fU, fV){ return eh(e0(fU.$0, fV.$0));}
function ek(fU){ return e1(fU.$0);}
function el(fU, fV){ return eh(e2(fU.$0, fV.$0));}
function em(fU){ return(fV) => { try {(fU())(fV);} catch(fW){ fV.k(eU(fW));} };}
function en(fU, fV){ return es((fW) => { fU(eT((fX) => { if(fX.$==0){ const fY=fX.$0;er().Fork(() => { try {(fV(fY))(fW);} catch(fZ){ fW.k(eU(fZ));} });} else er().Fork(() => { fW.k(fX);});}, fW.ct));});}
function eo(){ return eX.Zero;}
function ep(fU, fV){ const fW=(et())[0];const fX=fV==null?fW:fV.$0;er().Fork(() => { if(!fX.c)fU(eT((fY) => { if(fY.$==1)eu(fY.$0);}, fX));});}
function eq(fU){ return(fV) => { fV.k(eV(fU));};}
function er(){ return eX.scheduler;}
function es(fU){ return(fV) => { if(fV.ct.c)ew(fV);else fU(fV);};}
function et(){ return eX.defCTS;}
function eu(fU){ console.log("WebSharper: Uncaught asynchronous exception", fU);}
function ev(fU){ return(fV) => { const fW=[false];const fX=(fY) => { if(fW[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { fW[0]=true;er().Fork(fY);} };fU((fY) => { fX(() => { fV.k(eV(fY));});}, (fY) => { fX(() => { fV.k(eU(fY));});}, (fY) => { fX(() => { fV.k(eW(fY));});});};}
function ew(fU){ fU.k(eW(new fD("New", fU.ct)));}
function ex(){ return eJ.UseAnimations;}
function ey(fU){ return eA(bp((fV) => fV.$==1?N(fV.$0):null, eL(fU.$0)));}
function ez(fU){ bu((fV) => { if(fV.$==0)fV.$0();}, eL(fU.$0));}
function eA(fU){ const fV=eb(fU);const fW=p(fV);if(fW===0)return eC();else if(fW===1)return m(fV, 0);else { const fX=bh(be((fZ) => fZ.Duration, fV));const fY=bw((fZ) => eE(fX, fZ), fV);return eD(fX, (fZ) => { bu((f0) => { f0.Compute(fZ);}, fY);});} }
function eB(fU){ return fU.$0;}
function eC(fU){ return eD(0, () => fU);}
function eD(fU, fV){ return{Compute:fV, Duration:fU};}
function eE(fU, fV){ const fW=fV.Compute;const fX=fV.Duration;const fY=fE(() => fV.Compute(fV.Duration));return{Compute:(fZ) => fZ>=fX?fY.f():fW(fZ), Duration:fU};}
let eF=fL((fU) => class fV { static { eF=fU(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eG(fU){ let fV=[];let fW;for(var fX in fU)fV.push.apply(fV, fU[fX]);return fV;}
let eH=fL((fU) => class fV { static { eH=fU(this);} static counter;static { this.counter=0;} });
let eI=fL((fU) => class fV { static { eI=fU(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fW=[1, "<table>", "</table>"];let fX=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fW], ["tbody", fW], ["tfoot", fW], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fX;this.defaultWrap=[0, "", ""];} });
let eJ=fL((fU) => class fV { static { eJ=fU(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eS.Custom((fW) => { const fX=fW*fW;return 3*fX-2*(fX*fW);});this.UseAnimations=true;} });
function eK(fU, fV){ return fU.$==0?fV:fV.$==0?fU:{$:2, $0:fU, $1:fV};}
function eL(fU){ const fV=[];function fW(fX){ while(true){ if(fX.$==1)return fV.push(fX.$0);else if(fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fW(fZ);fX=fY;} else return fX.$==3?bu((f0) => { fV.push(f0);}, fX.$0):null;} } fW(fU);return fV.slice(0);}
function eM(fU){ const fV=eb(fU);return d$(eN(), eK, fV);}
function eN(){ return fH.Empty;}
let eO=fL((fU) => class fV extends k { static { eO=fU(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fW){ return dm();} NGetEnterAnim(fW){ return dm();} NGetChangeAnim(fW){ return dm();} NSync(fW){ if(this.dirty){(this.push(fW))(this.value);this.dirty=false;} } constructor(fW, fX){ super();this.push=fX;this.value=void 0;this.dirty=false;this.updates=cO((fY) => { this.value=fY;this.dirty=true;}, fW);} });
let eP=fL((fU) => { fO(Error);return class fV extends Error { static { eP=fU(this);} static New(){ return new this("New");} static New_1(fW){ return new this("New_1", fW);} constructor(fW, fX){ if(fW=="New"){ fW="New_1";fX="The given key was not present in the dictionary.";} if(fW=="New_1"){ const fY=fX;super(fY);} } };});
let eQ=fL((fU) => class fV { static { eQ=fU(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ga) =>[(gb) => { gb.addEventListener("change", () => ga.Get()!=gb.checked?ga.Set(gb.checked):null);}, (gb) =>(gc) => gc!=null&&gc.$==1?void(gb.checked=gc.$0):null, cO(N, ga.View)];this.StringSet=(ga) =>(gb) => { ga.value=gb;};this.StringGet=(ga) => N(ga.value);const fW=e8();const fX=e7();this.StringApply=(ga) => e6(fW, fX, ga);this.StringListSet=(ga) =>(gb) => { const gc=ga.options;for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { const gf=gc.item(gd);gf.selected=dd(gf.value, gb);})());};this.StringListGet=(ga) => { const gb=ga.selectedOptions;return N(by(bf(() => bg((gc) =>[gb.item(gc).value], j(0, gb.length-1)))));};const fY=e_();const fZ=e9();this.StringListApply=(ga) => e6(fY, fZ, ga);this.DateTimeSetUnchecked=(ga) =>(gb) => { ga.value=(new Date(gb)).toLocaleString();};this.DateTimeGetUnchecked=(ga) => { let gb;let gc;const gd=ga.value;if(fs(gd))return N(-8640000000000000);else { gb=0;const ge=fB(gd);let gf=ge!=null&&ge.$==1&&(gb=ge.$0,true);gc=[gf, gb];return gc[0]?N(gc[1]):null;} };const f0=fa();const f1=e$();this.DateTimeApplyUnchecked=(ga) => e6(f0, f1, ga);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ga) => { const gb=ga.files;return N(by(bf(() => be((gc) => gb.item(gc), j(0, gb.length-1)))));};const f2=fd();const f3=fc();this.FileApplyUnchecked=(ga) => fb(f2, f3, ga);this.IntSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.IntGetUnchecked=(ga) => { const gb=ga.value;if(fs(gb))return N(0);else { const gc=+gb;return gc!==gc>>0?null:N(gc);} };const f4=ff();const f5=fe();this.IntApplyUnchecked=(ga) => e6(f4, f5, ga);this.IntSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.IntGetChecked=(ga) => { let gb;let gc;const gd=ga.value;if(fs(gd))gb=(ga.checkValidity?ga.checkValidity():true)?ft.Blank(gd):ft.Invalid(gd);else { const ge=(gc=0,[bQ(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);gb=ge[0]?ft.Valid(ge[1], gd):ft.Invalid(gd);} return N(gb);};const f6=fh();const f7=fg();this.IntApplyChecked=(ga) => e6(f6, f7, ga);this.FloatSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.FloatGetUnchecked=(ga) => { const gb=ga.value;if(fs(gb))return N(0);else { const gc=+gb;return isNaN(gc)?null:N(gc);} };const f8=fj();const f9=fi();this.FloatApplyUnchecked=(ga) => e6(f8, f9, ga);this.FloatSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.FloatGetChecked=(ga) => { let gb;const gc=ga.value;if(fs(gc))gb=(ga.checkValidity?ga.checkValidity():true)?ft.Blank(gc):ft.Invalid(gc);else { const gd=+gc;gb=isNaN(gd)?ft.Invalid(gc):ft.Valid(gd, gc);} return N(gb);};const f_=fl();const f$=fk();this.FloatApplyChecked=(ga) => e6(f_, f$, ga);} });
let eR=fL((fU) => class fV extends k { static { eR=fU(this);} idle;robin;Fork(fW){ this.robin.push(fW);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fW=Date.now();let fX=true;while(fX)if(this.robin.length===0){ this.idle=true;fX=false;} else {(this.robin.shift())();Date.now()-fW>40?(setTimeout(() => { this.tick();}, 0),fX=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
let eS=fL((fU) => class fV extends k { static { eS=fU(this);} transformTime;static Custom(fW){ return new fV(fW);} constructor(fW){ super();this.transformTime=fW;} });
function eT(fU, fV){ return{k:fU, ct:fV};}
function eU(fU){ return{$:1, $0:fU};}
function eV(fU){ return{$:0, $0:fU};}
function eW(fU){ return{$:2, $0:fU};}
let eX=fL((fU) => class fV { static { eX=fU(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eY(false, []);this.scheduler=new eR();this.defCTS=[new fu()];this.Zero=eq();this.GetCT=(fW) => { fW.k(eV(fW.ct));};} });
function eY(fU, fV){ return{c:fU, r:fV};}
function eZ(fU, fV){ return new $("New_2", bx(fU, e1(fV)));}
function e0(fU, fV){ const fW=new $("New_2", e1(fV));fW.ExceptWith(e1(fU));return fW;}
function e1(fU){ const fV=bC(fU.Count, void 0);fU.CopyTo(fV, 0);return fV;}
function e2(fU, fV){ const fW=new $("New_2", e1(fU));fW.IntersectWith(e1(fV));return fW;}
function e3(fU){ return fU.$==1?fU.$0:e5();}
function e4(fU){ return fU.$==1?fU.$1:e5();}
function e5(){ return f("The input list was empty.");}
function e6(fU, fV, fW){ let fX;fX=null;return[(fY) => { const fZ=() => { fW.UpdateMaybe((f0) => { let f1;fX=fU(fY);return fX!=null&&fX.$==1&&(!t(fX.$0, f0)&&(f1=[fX, fX.$0],true))?f1[0]:null;});};fY.addEventListener("change", fZ);fY.addEventListener("input", fZ);fY.addEventListener("keypress", fZ);}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, cO((fY) => { let fZ;return fX!=null&&fX.$==1&&(t(fX.$0, fY)&&(fZ=fX.$0,true))?null:N(fY);}, fW.View)];}
function e7(){ return eQ.StringSet;}
function e8(){ return eQ.StringGet;}
function e9(){ return eQ.StringListSet;}
function e_(){ return eQ.StringListGet;}
function e$(){ return eQ.DateTimeSetUnchecked;}
function fa(){ return eQ.DateTimeGetUnchecked;}
function fb(fU, fV, fW){ let fX;fX=null;return[(fY) => { fY.addEventListener("change", () => { fW.UpdateMaybe((fZ) => { let f0;fX=fU(fY);return fX!=null&&fX.$==1&&(fX.$0!==fZ&&(f0=[fX, fX.$0],true))?f0[0]:null;});});}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, cO((fY) => { let fZ;return fX!=null&&fX.$==1&&(t(fX.$0, fY)&&(fZ=fX.$0,true))?null:N(fY);}, fW.View)];}
function fc(){ return eQ.FileSetUnchecked;}
function fd(){ return eQ.FileGetUnchecked;}
function fe(){ return eQ.IntSetUnchecked;}
function ff(){ return eQ.IntGetUnchecked;}
function fg(){ return eQ.IntSetChecked;}
function fh(){ return eQ.IntGetChecked;}
function fi(){ return eQ.FloatSetUnchecked;}
function fj(){ return eQ.FloatGetUnchecked;}
function fk(){ return eQ.FloatSetChecked;}
function fl(){ return eQ.FloatGetChecked;}
function fm(){ return eQ.StringApply;}
function fn(){ return eQ.FloatApplyUnchecked;}
function fo(){ return eQ.BoolCheckedApply;}
function fp(){ return eQ.DateTimeApplyUnchecked;}
function fq(){ return eQ.FileApplyUnchecked;}
function fr(){ return eQ.StringListApply;}
function fs(fU){ return d9(fA, fU);}
let ft=fL((fU) => class fV { static { ft=fU(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fW){ return fS(fV, {$:2, $0:fW});} static Invalid(fW){ return fS(fV, {$:1, $0:fW});} static Valid(fW, fX){ return fS(fV, {$:0, $0:fW, $1:fX});} });
let fu=fL((fU) => class fV extends k { static { fu=fU(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function fv(fU, fV){ let fW;if(fV!=null&&fV.$==1){ const fX=[];fW=fV.$0[0].nextSibling;while(fW!==fV.$0[1]){ fX.push(fW);fW=fW.nextSibling;} return fz(fX);} else { let fY=fU.childNodes.length;const fZ=fU.childNodes;let f0=bD(fY, (f1) => fZ[f1]);return fz(f0);} }
function fw(fU, fV){ const fW=fU.$0;return fz(bx((fX) => bB((fY) =>!(fX===fY), fW), fV.$0));}
function fx(fU, fV){ bu(fU, fV.$0);}
function fy(fU){ const fV=[];function fW(fX){ while(true){ if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX!=null&&fX.$==1)return fV.push(fX.$0.El);else if(fX==null)return null;else if(fX!=null&&fX.$==5)return fV.push(fX.$0);else if(fX!=null&&fX.$==4)return fV.push(fX.$0.Text);else if(fX!=null&&fX.$==6){ const fZ=fX.$0.Els;return(((f2) =>(f3) => { bu(f2, f3);})((f2) => { if(f2==null||f2.constructor===Object)fW(f2);else fV.push(f2);}))(fZ);} else { const f0=fX.$1;const f1=fX.$0;fW(f1);fX=f0;} } } fW(fU.Children);return fz(eb(fV));}
function fz(fU){ return{$:0, $0:fU};}
function fA(fU){ return fU.match(new RegExp("\\s"))!==null;}
function fB(fU){ const fV=Date.parse(fU);return isNaN(fV)?null:N(fV);}
function fC(fU, fV, fW, fX){ const fY=+fU;const fZ=fY===fY-fY%1&&fY>=fV&&fY<=fW;if(fZ)fX.set(fY);return fZ;}
let fD=fL((fU) => { fO(Error);return class fV extends Error { static { fD=fU(this);} ct;static New(fW){ return new this("New", fW);} static New_1(fW, fX, fY){ return new this("New_1", fW, fX, fY);} constructor(fW, fX, fY, fZ){ let f0;if(fW=="New"){ f0=fX;fW="New_1";fX="The operation was canceled.";fY=null;fZ=f0;} if(fW=="New_1"){ const f1=fX;const f2=fY;const f3=fZ;super(f1);this.inner=f2;this.ct=f3;} } };});
function fE(fU){ return fJ(false, fU, fF);}
function fF(){ const fU=this.v();this.c=true;this.v=fU;this.f=fG;return fU;}
function fG(){ return this.v;}
let fH=fL((fU) => class fV { static { fH=fU(this);} static Empty;static { this.Empty={$:0};} });
function fI(fU){ fU.splice(0, p(fU));}
function fJ(fU, fV, fW){ return{c:fU, v:fV, f:fW};}
fT(() => { b();});
fK();

