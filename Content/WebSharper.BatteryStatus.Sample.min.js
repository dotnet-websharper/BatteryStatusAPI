import { Start as fK } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fL, SetOptional as fM, Lazy as fN, GetOptional as fO, CreateFuncWithArgs as fP, DeleteEmptyFields as fQ, Create as fR, OnLoad as fS } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fT){ return"Dispose"in fT;}
function b(){ c();const fT=new q("New_1");const fU=(fT.h.push(new I("batterystatus", d().View)),fT);const fV=L(fU.k, fU.h, []);const fW=new l(fV[1], E(fV[0]));let fX=(fU.i=fW,fW);const fY=fX.Doc;N("");u0035.RunById("main", fY);}
function c(){ try { globalThis.navigator.getBattery().then((fT) => { e(fT);fT.addEventListener("levelchange", () => e(fT));fT.addEventListener("chargingchange", () => e(fT));fT.addEventListener("chargingtimechange", () => e(fT));return fT.addEventListener("dischargingtimechange", () => e(fT));});} catch(fT){ d().Set(String(fT.message));} }
function d(){ return J.batteryStatus;}
function e(fT){ const fU="Battery Level: "+String(g(fT.level*100))+"%<br>Charging: "+u0037(fT.charging?"Yes \u26a1":"No")+"<br>Time to Full Charge: "+u0037(fT.chargingTime>0?fT.chargingTime.toFixed(6)+"s":"N/A")+"<br>Time to Empty: "+u0037(fT.dischargingTime>0?fT.dischargingTime.toFixed(6)+"s":"N/A");globalThis.document.getElementById("battery-status").innerHTML=fU;}
function f(fT){ throw new Error(fT);}
function g(fT){ const fU=h(fT);return fU>2147483647?fU-4294967296:fU;}
function h(fT){ return(fT<0?Math.ceil(fT):Math.floor(fT))>>>0;}
function i(fT){ return[fT.K, fT.V];}
function j(fT, fU){ const fV=1+fU-fT;return fV<=0?[]:bj(fV, (fW) => fW+fT);}
class k { Equals(fT){ return this===fT;} GetHashCode(){ return -1;} }
class l extends k { doc;allVars;anchorRoot;get Doc(){ return this.doc;} constructor(fT, fU){ super();this.doc=fU;this.allVars=fT.$==0?fT.$0:f("Should not happen");this.anchorRoot=null;} }
function m(fT, fU){ o(fT, fU);return fT[fU];}
function n(fT, fU, fV){ o(fT, fU);fT[fU]=fV;}
function o(fT, fU){ if(fU<0||fU>=fT.length)f("Index was outside the bounds of the array.");}
function p(fT){ return fT.dims===2?fT.length*fT.length:fT.length;}
class q extends k { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fT){ if(fT=="New_1"){ let fU;super();this.i=null;this.k=(fU=K(),String(fU));this.h=fL([]);fM(this, "s", null);} } }
class r extends k { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fT, fU){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return d0("");} }
class s extends k { }
function t(fT, fU){ if(fT===fU)return true;else { const fV=typeof fT;if(fV=="object"){ if(fT===null||fT===void 0||fU===null||fU===void 0||!t(typeof fU, "object"))return false;else if("Equals"in fT)return fT.Equals(fU);else if("Equals"in fU)return false;else if(fT instanceof Array&&fU instanceof Array)return u(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return v(fT, fU);else { const fW=[true];let fX;for(var fZ in fT)if(((f0) => { fW[0]=!fT.hasOwnProperty(f0)||fU.hasOwnProperty(f0)&&t(fT[f0], fU[f0]);return!fW[0];})(fZ))break;if(fW[0]){ let fY;for(var f0 in fU)if(((f1) => { fW[0]=!fU.hasOwnProperty(f1)||fT.hasOwnProperty(f1);return!fW[0];})(f0))break;} return fW[0];} } else return fV=="function"&&("$Func"in fT?fT.$Func===fU.$Func&&fT.$Target===fU.$Target:"$Invokes"in fT&&"$Invokes"in fU&&u(fT.$Invokes, fU.$Invokes));} }
function u(fT, fU){ let fV;let fW;if(p(fT)===p(fU)){ fV=true;fW=0;while(fV&&fW<p(fT)){!t(m(fT, fW), m(fU, fW))?fV=false:void 0;fW=fW+1;} return fV;} else return false;}
function v(fT, fU){ return fT.getTime()===fU.getTime();}
function w(fT){ const fU=typeof fT;return fU=="function"?0:fU=="boolean"?fT?1:0:fU=="number"?fT:fU=="string"?x(fT):fU=="object"?fT==null?0:fT instanceof Array?y(fT):z(fT):0;}
function x(fT){ let fU;if(fT===null)return 0;else { fU=5381;for(let fV=0, fW=fT.length-1;fV<=fW;fV++)fU=A(fU, fT[fV].charCodeAt());return fU;} }
function y(fT){ let fU=-34948909;for(let fV=0, fW=p(fT)-1;fV<=fW;fV++)fU=A(fU, w(m(fT, fV)));return fU;}
function z(fT){ if("GetHashCode"in fT)return fT.GetHashCode();else { const fU=[0];let fV;for(var fW in fT)if(((fX) => { fU[0]=A(A(fU[0], x(fX)), w(fT[fX]));return false;})(fW))break;return fU[0];} }
function A(fT, fU){ return(fT<<5)+fT+fU;}
function B(fT, fU){ if(fT===fU)return 0;else { const fV=typeof fT;switch(fV=="function"?1:fV=="boolean"?2:fV=="number"?2:fV=="string"?2:fV=="object"?3:0){ case 0:return typeof fU=="undefined"?0:-1;case 1:return f("Cannot compare function values.");case 2:return fT<fU?-1:1;case 3:if(fT===null)return -1;else if(fU===null)return 1;else if("CompareTo"in fT)return fT.CompareTo(fU);else if("CompareTo0"in fT)return fT.CompareTo0(fU);else if(fT instanceof Array&&fU instanceof Array)return C(fT, fU);else if(fT instanceof Date&&fU instanceof Date)return D(fT, fU);else { const fW=[0];let fX;for(var fZ in fT)if(((f0) =>!fT.hasOwnProperty(f0)?false:!fU.hasOwnProperty(f0)?(fW[0]=1,true):(fW[0]=B(fT[f0], fU[f0]),fW[0]!==0))(fZ))break;if(fW[0]===0){ let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fT.hasOwnProperty(f1)&&(fW[0]=-1,true))(f0))break;} return fW[0];} break;} } }
function C(fT, fU){ let fV;let fW;if(p(fT)<p(fU))return -1;else if(p(fT)>p(fU))return 1;else { fV=0;fW=0;while(fV===0&&fW<p(fT)){ fV=B(m(fT, fW), m(fU, fW));fW=fW+1;} return fV;} }
function D(fT, fU){ return B(fT.getTime(), fU.getTime());}
function E(fT){ N("index");return fT?O("index", M("main"), fT):void 0;}
function F(fT){ let fU=[];let fV;for(var fW in fT)fU.push(fT[fW]);return fU;}
class G extends k { }
class H extends r { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return d0(this.fillWith);} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class I extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(this.fillWith);} get AsChoiceView(){ return d1(this.fillWith);} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
let J=fN((fT) => class fU { static { J=fT(this);} static batteryStatus;static { this.batteryStatus=u0039.Create_1("Checking battery status...");} });
function K(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fT) => { const fU=Math.random()*16|0;const fV=fT=="x"?fU:fU&3|8;return fV.toString(16);});}
function L(fT, fU, fV){ const fW=new u0038("New_5");const fX=new $("New_3");const fY=ce(fU);try { while(fY.MoveNext()){ const fZ=fY.Current;const f0=fZ.Name;fX.SAdd(f0);fW.set_Item(f0, fZ);} } finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} return[ba(fU, bp((f1) => { const f2=f1[0];const f3=f1[1];const f4=f1[2];if(fX.Contains(f2))return null;else { const f5=f3===0?bE.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:M(f4.$0);let f7=u0039.Create_1(f6==null?"":f6.$0);return new bF(f2, f7);}):f3===1?bE.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:M(f4.$0);let f7=u0039.Create_1(f6==null?0:f6.$0);return new bG(f2, f7);}):f3===2?bE.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:M(f4.$0);let f7=u0039.Create_1(f6==null?false:f6.$0);return new bH(f2, f7);}):f3===3?bE.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:M(f4.$0);let f7=u0039.Create_1(f6==null?-8640000000000000:f6.$0);return new bI(f2, f7);}):f3===4?bE.GetOrAddHoleFor(fT, f2, () => new bJ(f2, u0039.Create_1([]))):f3===5?bE.GetOrAddHoleFor(fT, f2, () => new bK(f2, u0039.Create_1(M(globalThis.document.querySelector("[ws-dom="+f2+"]"))))):f3===6?bE.GetOrAddHoleFor(fT, f2, () => { const f6=f4==null?null:M(f4.$0);let f7=u0039.Create_1(f6==null?[]:f6.$0);return new bL(f2, f7);}):f("Invalid value type");fW.set_Item(f2, f5);return M(f5);} }, fV)), {$:0, $0:fW}];}
function M(fT){ return{$:1, $0:fT};}
function N(fT){!P()?(Q(true),R(globalThis.document.body, "")):void 0;S().set_Item(fT, T(""));}
function O(fT, fU, fV){ let fW;const fX=(fW=null,[T(fT).TryGetValue(fU==null?"":fU.$0, {get:() => fW, set:(fY) => { fW=fY;}}), fW]);return fX[0]?U(fX[1].cloneNode(true), fV):(console.warn("Local template doesn't exist", fU),u0035.Empty);}
function P(){ return cj.LocalTemplatesLoaded;}
function Q(fT){ cj.LocalTemplatesLoaded=fT;}
function R(fT, fU){ const fV=T(fU);const fW=new u0038("New_5");const fX=fT.querySelectorAll("[ws-template]");for(let f9=0, f_=fX.length-1;f9<=f_;f9++){ const fY=fX[f9];const fZ=fY.getAttribute("ws-template").toLowerCase();fY.removeAttribute("ws-template");fW.set_Item(fZ, V(fY));} const f0=fT.querySelectorAll("[ws-children-template]");for(let f$=0, ga=f0.length-1;f$<=ga;f$++){ const f1=f0[f$];const f2=f1.getAttribute("ws-children-template").toLowerCase();f1.removeAttribute("ws-children-template");fW.set_Item(f2, W(f1));} const f3=fT.querySelectorAll("template[id]");for(let gb=0, gc=f3.length-1;gb<=gc;gb++){ const f4=f3[gb];fW.set_Item(f4.getAttribute("id").toLowerCase(), X(f4));} const f5=fT.querySelectorAll("template[name]");for(let gd=0, ge=f5.length-1;gd<=ge;gd++){ const f6=f5[gd];fW.set_Item(f6.getAttribute("name").toLowerCase(), X(f6));} const f7=new $("New_3");function f8(gf){ if(!fV.ContainsKey(gf)){ let gg;const gh=(gg=null,[fW.TryGetValue(gf, {get:() => gg, set:(gi) => { gg=gi;}}), gg]);if(gh[0]){ f7.SAdd(gf);fW.RemoveKey(gf);Y(fU, M(gf), gh[1], M(f8));} else console.warn(f7.Contains(gf)?"Encountered loop when instantiating "+gf:"Local template does not exist: "+gf);} } while(fW.count>0)f8(bb(fW.Keys));}
function S(){ return cj.LoadedTemplates;}
function T(fT){ let fU;const fV=(fU=null,[S().TryGetValue(fT, {get:() => fU, set:(fX) => { fU=fX;}}), fU]);if(fV[0])return fV[1];else { const fW=new u0038("New_5");S().set_Item(fT, fW);return fW;} }
function U(fT, fU){ let fV;const fW=Z(fT, ba(fU, u0030().Values));const fX=fW[1];const fY=fW[0];const fZ=fY.Els;return!t(fZ, null)&&fZ.length===1&&(m(fZ, 0)instanceof Node&&(t(m(fZ, 0).nodeType, Node.ELEMENT_NODE)&&(fV=m(fZ, 0),true)))?cL.TreeNode(fY, fX):u0035.Mk(bM(fY), fX);}
function V(fT){ fT.removeAttribute("ws-template");const fU=fT.getAttribute("ws-replace");if(fU==null){ } else { fT.removeAttribute("ws-replace");const fV=fT.parentNode;if(t(fV, null)){ } else { const fW=globalThis.document.createElement(fT.tagName);fW.setAttribute("ws-replace", fU);fV.replaceChild(fW, fT);} } const fX=globalThis.document.createElement("div");fX.appendChild(fT);return fX;}
function W(fT){ const fU=globalThis.document.createElement("div");while(fT.hasChildNodes())fU.appendChild(fT.firstChild);return fU;}
function X(fT){ const fU=globalThis.document.createElement("div");const fV=fT.content;for(let fW=0, fX=fV.childNodes.length-1;fW<=fX;fW++)fU.appendChild(fV.childNodes[fW].cloneNode(true));return fU;}
function Y(fT, fU, fV, fW){ const fX=new $("New_3");function fY(f5, f6){ while(true)switch(f5){ case 0:if(f6!==null){ const f7=f6.nextSibling;if(t(f6.nodeType, Node.TEXT_NODE))cU(f6);else if(t(f6.nodeType, Node.ELEMENT_NODE))f0(f6);f6=f7;} else return null;break;case 1:const f8=c2(f6.nodeName, M(3), null).toLowerCase();const f9=f8.indexOf(".");const f_=f9===-1?[fT, f8]:[c2(f8, null, M(f9-1)), c2(f8, M(f9+1), null)];const f$=f_[1];const ga=f_[0];if(ga!=""&&!S().ContainsKey(ga))return cV(f$);else { if(ga==""&&fW!=null)fW.$0(f$);const gb=S().Item(ga);if(!gb.ContainsKey(f$))return cV(f$);else { const gc=gb.Item(f$);const gd=gc.cloneNode(true);const ge=new $("New_3");const gf=new u0038("New_5");const gg=f6.attributes;for(let gq=0, gr=gg.length-1;gq<=gr;gq++){ const gh=gg.item(gq).name.toLowerCase();const gi=gg.item(gq).nodeValue;let gj=gi==""?gh:gi.toLowerCase();gf.set_Item(gh, gj);if(!ge.SAdd(gh))console.warn("Hole mapped twice", gh);} for(let gs=0, gt=f6.childNodes.length-1;gs<=gt;gs++){ const gk=f6.childNodes[gs];if(t(gk.nodeType, Node.ELEMENT_NODE))if(!ge.SAdd(gk.nodeName.toLowerCase()))console.warn("Hole filled twice", f$);} const gl=f6.childNodes.length===1&&t(f6.firstChild.nodeType, Node.TEXT_NODE);if(gl){ const gm=cW(gd, f6.firstChild.textContent, f$);const gn=((gu) =>(gv) => gu.SAdd(gv))(ge);let go=((gu) =>(gv) => { if(gv!=null)gu(gv.$0);})((gu) => { gn(gu);});go(gm);} cX(gd, ge);if(!gl){ for(let gu=0, gv=f6.childNodes.length-1;gu<=gv;gu++){ const gp=f6.childNodes[gu];if(t(gp.nodeType, Node.ELEMENT_NODE))if(gp.hasAttributes())cY(gd, gp);else fZ(gd, gp);} } cZ(gd, gf);c0(gd, f6.parentNode, f6);f6.parentNode.removeChild(f6);return;} } break;} } function fZ(f5, f6){ const f7=f6.nodeName.toLowerCase();const f8=(ga, gb) => { if(f7=="title"&&f6.hasChildNodes()){ const gc=c3(f6.textContent);f6.removeChild(f6.firstChild);while(gc.hasChildNodes())f6.appendChild(gc.firstChild);} f0(f6);return c0(f6, ga, gb);};u0031(f5, "[ws-attr-holes]", (ga) => { const gb=d4(ga.getAttribute("ws-attr-holes"), [" "], 1);for(let gf=0, gg=gb.length-1;gf<=gg;gf++){ const gc=m(gb, gf);let gd=new RegExp("\\${"+f7+"}", "ig");let ge=ga.getAttribute(gc).replace(gd, f6.textContent);ga.setAttribute(gc, ge);} });const f9=f5.querySelector("[ws-hole="+f7+"]");if(t(f9, null)){ const f_=f5.querySelector("[ws-replace="+f7+"]");if(t(f_, null)){ const f$=f5.querySelector("slot[name="+f7+"]");return f5.tagName.toLowerCase()=="template"?(f8(f$.parentNode, f$),void f$.parentNode.removeChild(f$)):null;} else { f8(f_.parentNode, f_);f_.parentNode.removeChild(f_);return;} } else { while(f9.hasChildNodes())f9.removeChild(f9.lastChild);f9.removeAttribute("ws-hole");return f8(f9, null);} } function f0(f5){ if(!f5.hasAttribute("ws-preserve"))if(d5(f5.nodeName.toLowerCase(), "ws-"))f2(f5);else { c1(f5);f1(f5.firstChild);} } function f1(f5){ return fY(0, f5);} function f2(f5){ return fY(1, f5);} function f3(f5){ while(true){ const f6=f5.querySelector("[ws-template]");if(t(f6, null)){ const f7=f5.querySelector("[ws-children-template]");if(t(f7, null)){ const f8=f5.querySelectorAll("template[id]");for(let gc=1, gd=f8.length-1;gc<=gd;gc++){ const f9=f8[gc];if(fX.Contains(f9)){ } else { Y(fT, M(f9.getAttribute("id")), f9, null);fX.SAdd(f9);} } const f_=f5.querySelectorAll("template[name]");for(let ge=1, gf=f_.length-1;ge<=gf;ge++){ const f$=f_[ge];if(fX.Contains(f$)){ } else { Y(fT, M(f$.getAttribute("name")), f$, null);fX.SAdd(f$);} } return null;} else { const ga=f7.getAttribute("ws-children-template");f7.removeAttribute("ws-children-template");Y(fT, M(ga), f7, null);f5=f5;} } else { const gb=f6.getAttribute("ws-template");(u0032(fT, M(gb), f6))(null);f5=f5;} } } const f4=(fU==null?"":fU.$0).toLowerCase();T(fT).set_Item(f4, fV);if(fV.hasChildNodes()){ f3(fV);f1(fV.firstChild);} }
function Z(fT, fU){ let fV;const fW=[];const fX=[];const fY=[];const fZ=[];const f0=new u0038("New_5");const f1=ce(fU);try { while(f1.MoveNext()){ const f2=f1.Current;f0.set_Item(f2.Name, f2);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} let f3=c4(fT);const f4=(gb, gc) => { const gd=dr(gb, gc);fX.push(ds(gd));fY.push([gb, gd]);const ge=fO(gd.OnAfterRender);if(ge==null)return null;else { const gf=ge.$0;fZ.push(() => { gf(gb);});return;} };const f5=(gb) => { let gc;const gd=(gc=null,[f0.TryGetValue(gb, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(gd[0]){ const ge=gd[1];if(ge instanceof dI)return M(ge.Value);else if(ge instanceof H)return M(u0035.TextNode(ge.Value));else { const gf=ge.ForTextView();return gf==null?null:M(u0035.TextView(gf.$0));} } else return null;};u0031(fT, "[ws-hole]", (gb) => { const gc=gb.getAttribute("ws-hole");gb.removeAttribute("ws-hole");while(gb.hasChildNodes())gb.removeChild(gb.lastChild);const gd=f5(gc);if(gd!=null&&gd.$==1){ const ge=gd.$0;ck(gb, ge.docNode);fW.push(cE.New(dt(gb), ge.docNode, null, gb, cF(), null));fX.push(ge.updates);} });u0031(fT, "[ws-replace]", (gb) => { const gc=f5(gb.getAttribute("ws-replace"));if(gc!=null&&gc.$==1){ const gd=gc.$0;const ge=gb.parentNode;const gf=globalThis.document.createTextNode("");ge.replaceChild(gf, gb);const gg=cp(gf, gd.docNode);f3=c4(fT);const gh=bq((gi) => gb===gi, f3);if(gh==null){ } else n(f3, gh.$0, gd.docNode);fW.push(cE.New(dt(ge), gd.docNode, M([gg, gf]), ge, cF(), null));fX.push(gd.updates);} });let f6=false;u0031(fT, "slot", (gb) => { const gc=gb.getAttribute("name");const gd=gc==""||gc==null?"default":gc.toLowerCase();if(f6&&gd=="default"||!t(fT.parentElement, null)){ } else { while(gb.hasChildNodes())gb.removeChild(gb.lastChild);if(gd=="default")f6=true;const ge=f5(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;ck(gb, gf.docNode);fW.push(cE.New(dt(gb), gf.docNode, null, gb, cF(), null));fX.push(gf.updates);} } });u0031(fT, "[ws-attr]", (gb) => { let gc;const gd=gb.getAttribute("ws-attr");gb.removeAttribute("ws-attr");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof dJ)f4(gb, gf.Value);else console.warn("Attribute hole filled with non-attribute data", gd);} });u0031(fT, "[ws-on]", (gb) => { f4(gb, dX.Concat(bp((gc) => { let gd;const ge=d4(gc, [":"], 1);const gf=(gd=null,[f0.TryGetValue(m(ge, 1), {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];return gg instanceof dK?M(dL(m(ge, 0), gg.Value)):gg instanceof dW?M(dX.Handler(m(ge, 0), gg.Value)):(console.warn("Event hole on"+m(ge, 0)+" filled with non-event data", m(ge, 1)),null);} else return null;}, d4(gb.getAttribute("ws-on"), [" "], 1))));gb.removeAttribute("ws-on");});u0031(fT, "[ws-onafterrender]", (gb) => { let gc;const gd=gb.getAttribute("ws-onafterrender");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0]){ const gf=ge[1];if(gf instanceof dY){ gb.removeAttribute("ws-onafterrender");f4(gb, dM(gf.Value));} else if(gf instanceof dZ){ gb.removeAttribute("ws-onafterrender");f4(gb, dM(gf.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gd);} });u0031(fT, "[ws-var]", (gb) => { let gc;const gd=gb.getAttribute("ws-var");gb.removeAttribute("ws-var");const ge=(gc=null,[f0.TryGetValue(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);if(ge[0])ge[1].AddAttribute((gf) =>(gg) => f4(gf, gg), gb);});const f7=() => { u0033("[ws-dom]", (gb) => { let gc;let gd;let ge;const gf=(gc=null,[f0.TryGetValue(gb.getAttribute("ws-dom").toLowerCase(), {get:() => gc, set:(gj) => { gc=gj;}}), gc]);if(gf[0]){ const gg=gf[1];if(gg instanceof bK){ const gh=gg.Value;gb.removeAttribute("ws-dom");gd=gb;const gi=new MutationObserver((gj, gk) => { bu((gl) => { gl.removedNodes.forEach(fP((gm) => gm[0]===gd&&gl.addedNodes.length!==1?(gh.SetFinal(null),gk.disconnect()):null), null);}, gj);});if(gb.parentElement!==null)gi.observe(gb.parentElement, (ge={},ge.childList=true,ge));gh.Set(M(gb));cN((gj) => { if(gj!=null&&gj.$==1){ const gk=gj.$0;if(gd===gk){ } else { gd.replaceWith(gk);gd=gk;} } else { gd.remove();gi.disconnect();} }, gh.View);} } });};u0031(fT, "[ws-attr-holes]", (gb) => { const gc=new RegExp(u0034(), "g");const gd=d4(gb.getAttribute("ws-attr-holes"), [" "], 1);gb.removeAttribute("ws-attr-holes");for(let ge=0, gf=gd.length-1;ge<=gf;ge++)((() => { let gg;const gh=m(gd, ge);const gi=gb.getAttribute(gh);let gj=null;let gk=0;const gl=[];while(gj=gc.exec(gi),gj!==null){ const gm=c2(gi, M(gk), M(gc.lastIndex-m(gj, 0).length-1));gk=gc.lastIndex;gl.push([gm, m(gj, 1)]);} const gn=c2(gi, M(gk), null);gc.lastIndex=0;const go=bv((gt, gu) =>(((gv) => { const gw=gv[0];const gx=gv[1];return(gy) => { let gz;const gA=gy[0];const gB=gy[1];const gC=(gz=null,[f0.TryGetValue(gx, {get:() => gz, set:(gE) => { gz=gE;}}), gz]);const gD=gC[0]?gC[1].AsChoiceView:d0("");return gD.$==1?[gw, d2.Cons(gA==""?gD.$0:cO((gE) => gE+gA, gD.$0), gB)]:[gw+gD.$0+gA, gB];};})(gt))(gu), gl, [gn, d2.Empty]);if(go[1].$==1){ if(go[1].$1.$==1){ if(go[1].$1.$1.$==1){ if(go[1].$1.$1.$1.$==0){ const gp=go[0];gg=dN(gh, cP((gt, gu, gv) => gp+gt+gu+gv, go[1].$0, go[1].$1.$0, go[1].$1.$1.$0));} else { const gq=go[0];gg=dN(gh, cO((gt) => gq+d3("", gt), cQ(go[1])));} } else { const gr=go[0];gg=dN(gh, cR((gt, gu) => gr+gt+gu, go[1].$0, go[1].$1.$0));} } else if(go[0]=="")gg=dN(gh, go[1].$0);else { const gs=go[0];gg=dN(gh, cO((gt) => gs+gt, go[1].$0));} } else gg=dX.Create(gh, go[0]);return f4(gb, gg);})());});let f8=f3;const f9=fZ.length==0?M(() => { f7();}):M((gb) => { f7();bu((gc) => { gc(gb);}, fZ);});const f_=!t(f3, null)&&f3.length===1&&(m(f3, 0)instanceof Node&&(m(f3, 0)instanceof Element&&(fV=m(f3, 0),true)))?M(fV):null;let f$={Els:f8, Dirty:true, Holes:fW, Attrs:fY, Render:f9?f9.$0:void 0, El:f_?f_.$0:void 0};let ga=fQ(f$, ["Render", "El"]);return[ga, d$(cM(), cS, fX)];}
function u0030(){ return cj.GlobalHoles;}
function u0031(fT, fU, fV){ c_(fT, fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function u0032(fT, fU, fV){ const fW=V(fV);return(fX) => { Y(fT, fU, fW, fX);};}
function u0033(fT, fU){ c$(fT, (fV) => { if(fV.closest("[ws-preserve]")==null)fU(fV);});}
function u0034(){ return cj.TextHoleRE;}
class u0035 extends k { docNode;updates;static RunById(fT, fU){ const fV=globalThis.document.getElementById(fT);if(t(fV, null))f("invalid id: "+fT);else u0035.Run(fV, fU);} static Run(fT, fU){ ck(fT, fU.docNode);u0035.RunInPlace(false, fT, fU);} static get Empty(){ return u0035.Mk(null, cM());} static RunInPlace(fT, fU, fV){ const fW=cm(fU, fV.docNode);cN(dg()||dn()?do_1(cn(fT, fW, fV.docNode)):() => { co(fT, fW, fV.docNode);}, fV.updates);} static Mk(fT, fU){ return new u0035(fT, fU);} static TextNode(fT){ return u0035.Mk(bN(globalThis.document.createTextNode(fT)), cM());} static TextView(fT){ const fU=cx();return u0035.Mk(bO(fU), cO((fV) => { cy(fU, fV);}, fT));} constructor(fT, fU){ super();this.docNode=fT;this.updates=fU;} }
function u0036(fT){ const fU={};const fV=ce(fT);try { while(fV.MoveNext()){ const fW=fV.Current;fU[fW[0]]=fW[1];} } finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} return fU;}
function u0037(fT){ return fT==null?"":fT;}
class u0038 extends k { equals;hash;count;data;set_Item(fT, fU){ this.set(fT, fU);} set(fT, fU){ const fV=this.hash(fT);const fW=this.data[fV];if(fW==null){ this.count=this.count+1;this.data[fV]=new Array({K:fT, V:fU});} else { const fX=bq((fY) => this.equals.apply(null, [(i(fY))[0], fT]), fW);if(fX==null){ this.count=this.count+1;fW.push({K:fT, V:fU});} else fW[fX.$0]={K:fT, V:fU};} } TryGetValue(fT, fU){ const fV=this.data[this.hash(fT)];if(fV==null)return false;else { const fW=br((fX) => { const fY=i(fX);return this.equals.apply(null, [fY[0], fT])?M(fY[1]):null;}, fV);return fW!=null&&fW.$==1&&(fU.set(fW.$0),true);} } ContainsKey(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:bs((fV) => this.equals.apply(null, [(i(fV))[0], fT]), fU);} RemoveKey(fT){ return this.remove(fT);} get Keys(){ return new df(this);} GetEnumerator(){ return ch(bt(F(this.data)));} get Values(){ return new ed(this);} remove(fT){ const fU=this.hash(fT);const fV=this.data[fU];if(fV==null)return false;else { const fW=bx((fX) =>!this.equals.apply(null, [(i(fX))[0], fT]), fV);return p(fW)<fV.length&&(this.count=this.count-1,this.data[fU]=fW,true);} } Item(fT){ return this.get(fT);} get(fT){ const fU=this.data[this.hash(fT)];return fU==null?cd():bz((fV) => { const fW=i(fV);return this.equals.apply(null, [fW[0], fT])?M(fW[1]):null;}, fU);} static New_5(){ return new this("New_5");} static New_6(fT, fU, fV){ return new this("New_6", fT, fU, fV);} constructor(fT, fU, fV, fW){ if(fT=="New_5"){ fT="New_6";fU=[];fV=t;fW=w;} if(fT=="New_6"){ const fX=fU;const fY=fV;const fZ=fW;super();this.equals=fY;this.hash=fZ;this.count=0;this.data=[];const f0=ce(fX);try { while(f0.MoveNext()){ const f1=f0.Current;this.set(f1.K, f1.V);} } finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } } }
let u0039=fN((fT) => class fU extends k { static { u0039=fT(this);} static Create_1(fV){ return new bR(false, {s:cI(fV, [])}, fV);} static { } });
class $ extends k { equals;hash;data;count;SAdd(fT){ return this.add(fT);} Contains(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrContains(fT, fU);} add(fT){ const fU=this.hash(fT);const fV=this.data[fU];return fV==null?(this.data[fU]=[fT],this.count=this.count+1,true):this.arrContains(fT, fV)?false:(fV.push(fT),this.count=this.count+1,true);} arrContains(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT]))fV=false;else fW=fW+1;return!fV;} GetEnumerator(){ return ce(eG(this.data));} ExceptWith(fT){ const fU=ce(fT);try { while(fU.MoveNext())this.Remove(fU.Current);} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} } get Count(){ return this.count;} IntersectWith(fT){ const fU=new $("New_4", fT, this.equals, this.hash);const fV=eG(this.data);for(let fX=0, fY=fV.length-1;fX<=fY;fX++){ const fW=fV[fX];if(!fU.Contains(fW))this.Remove(fW);} } Remove(fT){ const fU=this.data[this.hash(fT)];return fU==null?false:this.arrRemove(fT, fU)&&(this.count=this.count-1,true);} CopyTo(fT, fU){ const fV=eG(this.data);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)n(fT, fW+fU, fV[fW]);} arrRemove(fT, fU){ let fV=true;let fW=0;const fX=fU.length;while(fV&&fW<fX)if(this.equals.apply(null, [fU[fW], fT])){ fU.splice(fW, 1);fV=false;} else fW=fW+1;return!fV;} static New_3(){ return new this("New_3");} static New_4(fT, fU, fV){ return new this("New_4", fT, fU, fV);} static New_2(fT){ return new this("New_2", fT);} constructor(fT, fU, fV, fW){ if(fT=="New_3"){ fT="New_4";fU=[];fV=t;fW=w;} let fX;if(fT=="New_2"){ fX=fU;fT="New_4";fU=fX;fV=t;fW=w;} if(fT=="New_4"){ const fY=fU;const fZ=fV;const f0=fW;super();this.equals=fZ;this.hash=f0;this.data=[];this.count=0;const f1=ce(fY);try { while(f1.MoveNext())this.add(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } } }
function ba(fT, fU){ return{GetEnumerator:() => { const fV=ce(fT);const fW=[true];return new ci(fV, null, (fX) => { if(fX.s.MoveNext()){ fX.c=fX.s.Current;return true;} else { const fY=fX.s;if(!t(fY, null))fY.Dispose();fX.s=null;return fW[0]&&(fW[0]=false,fX.s=ce(fU),fX.s.MoveNext()?(fX.c=fX.s.Current,true):(fX.s.Dispose(),fX.s=null,false));} }, (fX) => { const fY=fX.s;if(!t(fY, null))fY.Dispose();});}};}
function bb(fT){ const fU=ce(fT);try { return fU.MoveNext()?fU.Current:dc();} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bc(fT, fU, fV){ let fW=fU;const fX=ce(fV);try { while(fX.MoveNext())fW=fT(fW, fX.Current);return fW;} finally { if(typeof fX=="object"&&a(fX))fX.Dispose();} }
function bd(fT, fU){ const fV=ce(fU);try { while(fV.MoveNext())fT(fV.Current);} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function be(fT, fU){ return{GetEnumerator:() => { const fV=ce(fU);return new ci(null, null, (fW) => fV.MoveNext()&&(fW.c=fT(fV.Current),true), () => { fV.Dispose();});}};}
function bf(fT){ return{GetEnumerator:() => ce(fT())};}
function bg(fT, fU){ return bi(be(fT, fU));}
function bh(fT){ const fU=ce(fT);try { if(!fU.MoveNext())bk();let fV=fU.Current;while(fU.MoveNext()){ const fW=fU.Current;if(B(fW, fV)===1)fV=fW;} return fV;} finally { if(typeof fU=="object"&&a(fU))fU.Dispose();} }
function bi(fT){ return{GetEnumerator:() => { const fU=ce(fT);function fV(fW){ while(true){ const fX=fW.s;if(t(fX, null)){ if(fU.MoveNext()){ fW.s=ce(fU.Current);fW=fW;} else { fU.Dispose();return false;} } else if(fX.MoveNext()){ fW.c=fX.Current;return true;} else { fW.Dispose();fW.s=null;fW=fW;} } } return new ci(null, null, fV, (fW) => { const fX=fW.s;if(!t(fX, null))fX.Dispose();if(!t(fU, null))fU.Dispose();});}};}
function bj(fT, fU){ return bl(fT, bm(fU));}
function bk(){ return f("The input sequence was empty.");}
function bl(fT, fU){ fT<0?de():void 0;return{GetEnumerator:() => { const fV=[ce(fU)];return new ci(0, null, (fW) => { fW.s=fW.s+1;if(fW.s>fT)return false;else { const fX=fV[0];return t(fX, null)?dc():fX.MoveNext()?(fW.c=fX.Current,fW.s===fT?(fX.Dispose(),fV[0]=null):void 0,true):(fX.Dispose(),fV[0]=null,dc());} }, () => { const fW=fV[0];if(!t(fW, null))fW.Dispose();});}};}
function bm(fT){ return{GetEnumerator:() => new ci(0, null, (fU) => { fU.c=fT(fU.s);fU.s=fU.s+1;return true;}, void 0)};}
function bn(fT, fU){ return!bo((fV) =>!fT(fV), fU);}
function bo(fT, fU){ const fV=ce(fU);try { let fW=false;while(!fW&&fV.MoveNext())fW=fT(fV.Current);return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bp(fT, fU){ const fV=[];for(let fX=0, fY=fU.length-1;fX<=fY;fX++){ const fW=fT(fU[fX]);if(fW==null){ } else fV.push(fW.$0);} return fV;}
function bq(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ fT(fU[fW])?fV=M(fW):void 0;fW=fW+1;} return fV;}
function br(fT, fU){ let fV=null;let fW=0;while(fW<fU.length&&fV==null){ const fX=fT(fU[fW]);if(fX!=null&&fX.$==1)fV=fX;fW=fW+1;} return fV;}
function bs(fT, fU){ let fV=false;let fW=0;while(!fV&&fW<p(fU))if(fT(fU[fW]))fV=true;else fW=fW+1;return fV;}
function bt(fT){ return Array.prototype.concat.apply([], by(fT));}
function bu(fT, fU){ for(let fV=0, fW=fU.length-1;fV<=fW;fV++)fT(fU[fV]);}
function bv(fT, fU, fV){ let fW=fV;const fX=fU.length;for(let fY=1, fZ=fX;fY<=fZ;fY++)fW=fT(fU[fX-fY], fW);return fW;}
function bw(fT, fU){ const fV=new Array(fU.length);for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV[fW]=fT(fU[fW]);return fV;}
function bx(fT, fU){ const fV=[];for(let fW=0, fX=fU.length-1;fW<=fX;fW++)if(fT(fU[fW]))fV.push(fU[fW]);return fV;}
function by(fT){ if(fT instanceof Array)return fT.slice();else if(fT instanceof d2)return bA(fT);else { const fU=[];const fV=ce(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
function bz(fT, fU){ const fV=br(fT, fU);return fV==null?f("KeyNotFoundException"):fV.$0;}
function bA(fT){ const fU=[];let fV=fT;while(!(fV.$==0)){ fU.push(e3(fV));fV=e4(fV);} return fU;}
function bB(fT, fU){ let fV=true;let fW=0;while(fV&&fW<p(fU))if(fT(fU[fW]))fW=fW+1;else fV=false;return fV;}
function bC(fT, fU){ const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU;return fV;}
function bD(fT, fU){ if(fT<0)f("Negative size given.");else null;const fV=new Array(fT);for(let fW=0, fX=fT-1;fW<=fX;fW++)fV[fW]=fU(fW);return fV;}
let bE=fN((fT) => class fU extends k { static { bE=fT(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fV, fW, fX){ let fY;const fZ=bE.GetHolesFor(fV);const f0=(fY=null,[fZ.TryGetValue(fW, {get:() => fY, set:(f2) => { fY=f2;}}), fY]);if(f0[0])return f0[1];else { const f1=fX();fZ.set_Item(fW, f1);return f1;} } static GetHolesFor(fV){ let fW;const fX=(fW=null,[bE.initialized.TryGetValue(fV, {get:() => fW, set:(fZ) => { fW=fZ;}}), fW]);if(fX[0])return fX[1];else { const fY=new u0038("New_5");bE.initialized.set_Item(fV, fY);return fY;} } static { bE.initialized=new u0038("New_5");bE.instances=new u0038("New_5");} });
class bF extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(this.fillWith.View);} AddAttribute(fT, fU){(fT(fU))(dO(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bG extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cO(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(dP(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bH extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cO(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(dQ(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bI extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cO((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(dR(this.fillWith));} get AsChoiceView(){ return d1(cO((fT) =>(new Date(fT)).toLocaleString(), this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bJ extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cO(String, this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(dS(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bK extends r { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
class bL extends r { name;fillWith;get Name(){ return this.name;} ForTextView(){ return M(cO((fT) => d3(",", fT), this.fillWith.View));} AddAttribute(fT, fU){(fT(fU))(dT(this.fillWith));} get AsChoiceView(){ return d1(cO(String, this.fillWith.View));} constructor(fT, fU){ super();this.name=fT;this.fillWith=fU;} }
function bM(fT){ return{$:6, $0:fT};}
function bN(fT){ return{$:5, $0:fT};}
function bO(fT){ return{$:4, $0:fT};}
class bP { }
function bQ(fT, fU){ return fC(fT, -2147483648, 2147483647, fU);}
class bR extends s { isConst;current;snap;view;id;get View(){ return this.view;} Set(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { dq(this.snap);this.current=fT;this.snap={s:cI(fT, [])};} } SetFinal(fT){ if(this.isConst)(((fU) => fU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fU) => { console.log(fU);}));else { dq(this.snap);this.isConst=true;this.current=fT;this.snap={s:cJ(fT)};} } Get(){ return this.current;} UpdateMaybe(fT){ const fU=fT(this.Get());if(fU!=null&&fU.$==1)this.Set(fU.$0);} constructor(fT, fU, fV){ super();this.isConst=fT;this.current=fV;this.snap=fU;this.view=() => this.snap;this.id=cF();} }
function bS(fT, fU, fV){ const fW=fT.s;if(fW==null)fV();else fW!=null&&fW.$==2?(fW.$1.push(fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),fW.$1.push(fV)):fU(fW.$0);}
function bT(fT, fU){ const fV=fU.s;if(fV!=null&&fV.$==0)return{s:cJ(fT(fV.$0))};else { const fW={s:cK([], [])};b0(fU, (fX) => { b1(fW, fU, fT(fX));}, fW);return fW;} }
function bU(fT, fU, fV, fW){ const fX=fU.s;const fY=fV.s;const fZ=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?fZ!=null&&fZ.$==0?{s:cJ(fT(fX.$0, fY.$0, fZ.$0))}:b2(fT, fX.$0, fY.$0, fW):fZ!=null&&fZ.$==0?b3(fT, fX.$0, fZ.$0, fV):b4(fT, fX.$0, fV, fW);else if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?b5(fT, fY.$0, fZ.$0, fU):b6(fT, fY.$0, fU, fW);else if(fZ!=null&&fZ.$==0)return b7(fT, fZ.$0, fU, fV);else { const f0={s:cK([], [])};const f1=() => { const f2=f0.s;if(!(f2!=null&&f2.$==0||f2!=null&&f2.$==2)){ const f3=b8(fU);const f4=b8(fV);const f5=b8(fW);if(f3!=null&&f3.$==1)if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f3.$0[1]&&f4.$0[1]&&f5.$0[1])b9(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));else b_(f0, fT(f3.$0[0], f4.$0[0], f5.$0[0]));} };b0(fU, f1, f0);b0(fV, f1, f0);b0(fW, f1, f0);return f0;} }
function bV(fT){ const fU=by(fT);if(fU.length==0)return{s:cJ([])};else { const fV={s:cK([], [])};const fW=[p(fU)-1];const fX=() => { if(fW[0]===0){ const fY=bw((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0?f0.$0:f0!=null&&f0.$==2?f0.$0:f("value not found by View.Sequence");}, fU);if(bB((fZ) => { const f0=fZ.s;return f0!=null&&f0.$==0;}, fU))b9(fV, fY);else b_(fV, fY);} else fW[0]=fW[0]-1;};bu((fY) => { b0(fY, fX, fV);}, fU);return fV;} }
function bW(fT, fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:cJ(fT(fW.$0, fX.$0))}:b$(fT, fW.$0, fV);else if(fX!=null&&fX.$==0)return ca(fT, fX.$0, fU);else { const fY={s:cK([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=b8(fU);const f2=b8(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])b9(fY, fT(f1.$0[0], f2.$0[0]));else b_(fY, fT(f1.$0[0], f2.$0[0]));} };b0(fU, fZ, fY);b0(fV, fZ, fY);return fY;} }
function bX(fT, fU){ const fV=fT.s;const fW=fU.s;if(fV!=null&&fV.$==0)return fW!=null&&fW.$==0?{s:cJ(null)}:fU;else if(fW!=null&&fW.$==0)return fT;else { const fX={s:cK([], [])};const fY=() => { const fZ=fX.s;if(!(fZ!=null&&fZ.$==0||fZ!=null&&fZ.$==2)){ const f0=b8(fT);const f1=b8(fU);if(f0!=null&&f0.$==1)if(f1!=null&&f1.$==1)if(f0.$0[1]&&f1.$0[1])b9(fX, null);else b_(fX, null);} };b0(fT, fY, fX);b0(fU, fY, fX);return fX;} }
function bY(fT){ const fU=fT.s;if(fU==null)return fT;else if(fU!=null&&fU.$==2){ const fV={s:cI(fU.$0, [])};cb(fT, fV);return fV;} else if(fU!=null&&fU.$==3){ const fW={s:cK([], [])};b0(fT, (fX) => { b1(fW, fT, fX);}, fW);return fW;} else return fT;}
function bZ(fT, fU){ const fV=fT.s;if(fV==null)fU();else fV!=null&&fV.$==2?fV.$1.push(fU):fV!=null&&fV.$==3?fV.$1.push(fU):void 0;}
function b0(fT, fU, fV){ const fW=fT.s;if(fW==null)dq(fV);else fW!=null&&fW.$==2?(cc(fW.$1, fV),fU(fW.$0)):fW!=null&&fW.$==3?(fW.$0.push(fU),cc(fW.$1, fV)):fU(fW.$0);}
function b1(fT, fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==0)b9(fT, fV);else b_(fT, fV);}
function b2(fT, fU, fV, fW){ return bT((fX) => fT(fU, fV, fX), fW);}
function b3(fT, fU, fV, fW){ return bT((fX) => fT(fU, fX, fV), fW);}
function b4(fT, fU, fV, fW){ return bW((fX, fY) => fT(fU, fX, fY), fV, fW);}
function b5(fT, fU, fV, fW){ return bT((fX) => fT(fX, fU, fV), fW);}
function b6(fT, fU, fV, fW){ return bW((fX, fY) => fT(fX, fU, fY), fV, fW);}
function b7(fT, fU, fV, fW){ return bW((fX, fY) => fT(fX, fY, fU), fV, fW);}
function b8(fT){ const fU=fT.s;return fU!=null&&fU.$==0?M([fU.$0, true]):fU!=null&&fU.$==2?M([fU.$0, false]):null;}
function b9(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=cJ(fU);const fW=fV.$0;for(let fX=0, fY=p(fW)-1;fX<=fY;fX++)(m(fW, fX))(fU);} else void 0;}
function b_(fT, fU){ const fV=fT.s;if(fV!=null&&fV.$==3){ fT.s=cI(fU, fV.$1);const fW=fV.$0;for(let fX=0, fY=p(fW)-1;fX<=fY;fX++)(m(fW, fX))(fU);} else void 0;}
function b$(fT, fU, fV){ return bT((fW) => fT(fU, fW), fV);}
function ca(fT, fU, fV){ return bT((fW) => fT(fW, fU), fV);}
function cb(fT, fU){ const fV=fT.s;if(fV==null)dq(fU);else fV!=null&&fV.$==2?cc(fV.$1, fU):fV!=null&&fV.$==3?cc(fV.$1, fU):void 0;}
function cc(fT, fU){ fT.push(fU);if(fT.length%20===0){ const fV=fT.slice(0);fI(fT);for(let fX=0, fY=p(fV)-1;fX<=fY;fX++){ const fW=m(fV, fX);if(typeof fW=="object")(((fZ) => { if(fZ.s)fT.push(fZ);})(fW));else(((fZ) => { fT.push(fZ);})(fW));} } else void 0;}
function cd(){ throw new eP("New");}
function ce(fT){ return fT instanceof Array?cf(fT):t(typeof fT, "string")?cg(fT):fT.GetEnumerator();}
function cf(fT){ return new ci(0, null, (fU) => { const fV=fU.s;return fV<p(fT)&&(fU.c=m(fT, fV),fU.s=fV+1,true);}, void 0);}
function cg(fT){ return new ci(0, null, (fU) => { const fV=fU.s;return fV<fT.length&&(fU.c=fT[fV],fU.s=fV+1,true);}, void 0);}
function ch(fT){ return fT instanceof Array?cf(fT):t(typeof fT, "string")?cg(fT):"GetEnumerator0"in fT?fT.GetEnumerator0():fT.GetEnumerator();}
class ci extends k { s;c;n;d;e;MoveNext(){ const fT=this.n(this);this.e=fT?1:2;return fT;} get Current(){ return this.e===1?this.c:this.e===0?f("Enumeration has not started. Call MoveNext."):f("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fT, fU, fV, fW){ super();this.s=fT;this.c=fU;this.n=fV;this.d=fW;this.e=0;} }
let cj=fN((fT) => class fU { static { cj=fT(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new u0038("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new u0038("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function ck(fT, fU){ cl(fT, fU, null);}
function cl(fT, fU, fV){ while(true){ if(fU!=null&&fU.$==1)return cq(fT, fU.$0.El, fV);else if(fU!=null&&fU.$==2){ const fW=fU.$0;fW.Dirty=false;fU=fW.Current;} else if(fU==null)return fV;else if(fU!=null&&fU.$==4)return cq(fT, fU.$0.Text, fV);else if(fU!=null&&fU.$==5)return cq(fT, fU.$0, fV);else if(fU!=null&&fU.$==6)return bv((fZ, f0) =>((((f1) =>(f2) =>(f3) => f2==null||f2.constructor===Object?cl(f1, f2, f3):cq(f1, f2, f3))(fT))(fZ))(f0), fU.$0.Els, fV);else { const fX=fU.$1;const fY=fU.$0;fU=fY;fV=cl(fT, fX, fV);} } }
function cm(fT, fU){ return ee(ef(), cr(fT, dx(), fU));}
function cn(fT, fU, fV){ if(dg()){ const fW=null;return em(() => { const fX=eg(fV);const fY=cv(fU, fX);const fZ=cu(fU, fX);return en(dh(di(fY, ct(fU, fX))), () => en(cs(fT, fU), () => en(dh(fZ), () => { fU.PreviousNodes=fX;return eq(null);})));});} else return cs(fT, fU);}
function co(fT, fU, fV){ const fW=eg(fV);cw(fT, fU.Top);fU.PreviousNodes=fW;}
function cp(fT, fU){ const fV=fT.parentNode;const fW=globalThis.document.createTextNode("");fV.insertBefore(fW, fT);cz(fT, fU);return fW;}
function cq(fT, fU, fV){ da(fT, fV, fU);return fU;}
function cr(fT, fU, fV){ ck(fT, fV);const fW=dr(fT, fU);return cE.New(fW, fV, null, fT, cF(), fO(fW.OnAfterRender));}
function cs(fT, fU){ if(dn()){ const fV=(fW) => { requestAnimationFrame(() => { cw(fT, fU.Top);fW();});};return ev((fW, fX, fY) => fV.apply(null, [fW, fX, fY]));} else { cw(fT, fU.Top);return eq(null);} }
function ct(fT, fU){ return dl(bw((fV) => dz(fV.Attr), ek(ej(fU, ei((fV) => dy(fV.Attr), fT.PreviousNodes)))));}
function cu(fT, fU){ return dl(bw((fV) => dB(fV.Attr), ek(ej(fT.PreviousNodes, ei((fV) => dA(fV.Attr), fU)))));}
function cv(fT, fU){ const fV=(fX) => dC(fX.Attr);const fW=(fX) => ei(fV, fX);return dl(bw((fX) => dD(fX.Attr), ek(el(fW(fT.PreviousNodes), fW(fU)))));}
function cw(fT, fU){!fT?cA(fU):void 0;cB(fU.Children);cC(fU);}
function cx(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cy(fT, fU){ fT.Value=fU;fT.Dirty=true;}
function cz(fT, fU){ cl(fT.parentNode, fU, fT);}
function cA(fT){ function fU(fV){ function fW(fX){ while(true){ if(fX!=null&&fX.$==0){ const fY=fX.$1;const fZ=fX.$0;if(fW(fZ))return true;else fX=fY;} else if(fX!=null&&fX.$==2){ const f0=fX.$0;if(f0.Dirty)return true;else fX=f0.Current;} else if(fX!=null&&fX.$==6){ const f1=fX.$0;return f1.Dirty||bs(fU, f1.Holes);} else return false;} } return fW(fV.Children);} dG(fT.El, fT.Attr);if(fU(fT))cD(fT);}
function cB(fT){ while(true){ if(fT!=null&&fT.$==1)return cw(false, fT.$0);else if(fT!=null&&fT.$==2){ const fU=fT.$0;fT=fU.Current;} else if(fT==null)return null;else if(fT!=null&&fT.$==5)return null;else if(fT!=null&&fT.$==4){ const fV=fT.$0;return fV.Dirty?(fV.Text.nodeValue=fV.Value,fV.Dirty=false):null;} else if(fT!=null&&fT.$==6){ const fW=fT.$0;bu((fZ) => { cw(false, fZ);}, fW.Holes);bu((fZ) => { dG(fZ[0], fZ[1]);}, fW.Attrs);return cC(fW);} else { const fX=fT.$1;const fY=fT.$0;cB(fY);fT=fX;} } }
function cC(fT){ const fU=fO(fT.Render);if(fU!=null&&fU.$==1){ fU.$0(fT.El);fM(fT, "Render", null);} }
function cD(fT){ const fU=fT.El;function fV(fZ, f0){ while(true){ if(fZ!=null&&fZ.$==1)return fZ.$0.El;else if(fZ!=null&&fZ.$==2){ const f1=fZ.$0;if(f1.Dirty){ f1.Dirty=false;return cl(fU, f1.Current, f0);} else fZ=f1.Current;} else if(fZ==null)return f0;else if(fZ!=null&&fZ.$==4)return fZ.$0.Text;else if(fZ!=null&&fZ.$==5)return fZ.$0;else if(fZ!=null&&fZ.$==6){ const f2=fZ.$0;if(f2.Dirty)f2.Dirty=false;return bv((f5, f6) => f5==null||f5.constructor===Object?fV(f5, f6):f5, f2.Els, f0);} else { const f3=fZ.$1;const f4=fZ.$0;fZ=f4;f0=fV(f3, f0);} } } const fW=fT.El;fx((fZ) => { db(fW, fZ);}, fw(fy(fT), fv(fT.El, fO(fT.Delimiters))));let fX=fT.Children;const fY=fO(fT.Delimiters);fV(fX, fY!=null&&fY.$==1?fY.$0[1]:null);}
class cE { Attr;Children;Delimiters;El;ElKey;Render;Equals(fT){ return this.ElKey===fT.ElKey;} GetHashCode(){ return this.ElKey;} static New(fT, fU, fV, fW, fX, fY){ const fZ={Attr:fT, Children:fU, El:fW, ElKey:fX};let f0=(fM(fZ, "Delimiters", fV),fM(fZ, "Render", fY),fZ);return fR(cE, f0);} }
function cF(){ cG(cH()+1);return cH();}
function cG(fT){ eH.counter=fT;}
function cH(){ return eH.counter;}
function cI(fT, fU){ return{$:2, $0:fT, $1:fU};}
function cJ(fT){ return{$:0, $0:fT};}
function cK(fT, fU){ return{$:3, $0:fT, $1:fU};}
class cL extends u0035 { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fT, fU){ const fV=ec.Create(fU);const fW=bw((fZ) => ds(fZ[1]), fT.Attrs);let fX=d$(cM(), cS, fW);let fY=cS(fX, fV.v);return new cL(bM(fT), fY, m(fT.Els, 0), fV);} constructor(fT, fU, fV, fW){ super(fT, fU);this.docNode_1=fT;this.updates_1=fU;this.elt=fV;this.rvUpdates=fW;} }
function cM(fT){ const fU={s:cJ(fT)};return() => fU;}
function cN(fT, fU){ function fV(){ bS(fU(), fT, () => { er().Fork(fV);});} er().Fork(fV);}
function cO(fT, fU){ return cT(() => bT(fT, fU()));}
function cP(fT, fU, fV, fW){ return cT(() => bU(fT, fU(), fV(), fW()));}
function cQ(fT){ return cT(() => bV(be((fU) => fU(), fT)));}
function cR(fT, fU, fV){ return cT(() => bW(fT, fU(), fV()));}
function cS(fT, fU){ return cT(() => bX(fT(), fU()));}
function cT(fT){ const fU={c:null, o:fT};return() => { let fV=fU.c;if(fV===null){ fV=fU.o();fU.c=fV;const fW=fV.s;if(fW!=null&&fW.$==0)fU.o=null;else bZ(fV, () => { fU.c=null;});return fV;} else return fV;};}
function cU(fT){ let fU=null;let fV=0;const fW=fT.textContent;const fX=new RegExp(u0034(), "g");while(fU=fX.exec(fW),fU!==null){ fT.parentNode.insertBefore(globalThis.document.createTextNode(c2(fW, M(fV), M(fX.lastIndex-m(fU, 0).length-1))), fT);fV=fX.lastIndex;const fY=globalThis.document.createElement("span");fY.setAttribute("ws-replace", m(fU, 1).toLowerCase());fT.parentNode.insertBefore(fY, fT);} fX.lastIndex=0;fT.textContent=c2(fW, M(fV), null);}
function cV(fT){ console.warn("Instantiating non-loaded template", fT);}
function cW(fT, fU, fV){ const fW=fT.querySelector("[ws-replace]");return t(fW, null)?(console.warn("Filling non-existent text hole", fV),null):(fW.parentNode.replaceChild(globalThis.document.createTextNode(fU), fW),M(fW.getAttribute("ws-replace")));}
function cX(fT, fU){ const fV=(fW) => { u0031(fT, "["+fW+"]", (fX) => { if(!fU.Contains(fX.getAttribute(fW)))fX.removeAttribute(fW);});};fV("ws-attr");fV("ws-onafterrender");fV("ws-var");u0031(fT, "[ws-hole]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-hole"))){ fW.removeAttribute("ws-hole");while(fW.hasChildNodes())fW.removeChild(fW.lastChild);} });u0031(fT, "[ws-replace]", (fW) => { if(!fU.Contains(fW.getAttribute("ws-replace")))fW.parentNode.removeChild(fW);});u0031(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", d3(" ", bx((fX) => fU.Contains(m(d4(fX, [":"], 1), 1)), d4(fW.getAttribute("ws-on"), [" "], 1))));});u0031(fT, "[ws-attr-holes]", (fW) => { const fX=d4(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let f1=0, f2=fX.length-1;f1<=f2;f1++){ const fY=m(fX, f1);let fZ=new RegExp(u0034(), "g");let f0=fW.getAttribute(fY).replace(fZ, (f3, f4) => fU.Contains(f4)?f3:"");fW.setAttribute(fY, f0);} });}
function cY(fT, fU){ c1(fU);const fV=fU.nodeName.toLowerCase();const fW=fT.querySelector("[ws-attr="+fV+"]");if(t(fW, null))console.warn("Filling non-existent attr hole", fV);else { fW.removeAttribute("ws-attr");for(let fY=0, fZ=fU.attributes.length-1;fY<=fZ;fY++){ const fX=fU.attributes.item(fY);if(fX.name=="class"&&fW.hasAttribute("class"))fW.setAttribute("class", fW.getAttribute("class")+" "+fX.nodeValue);else fW.setAttribute(fX.name, fX.nodeValue);} } }
function cZ(fT, fU){ const fV=(fW) => { u0031(fT, "["+fW+"]", (fX) => { let fY;const fZ=(fY=null,[fU.TryGetValue(fX.getAttribute(fW).toLowerCase(), {get:() => fY, set:(f0) => { fY=f0;}}), fY]);if(fZ[0])fX.setAttribute(fW, fZ[1]);});};fV("ws-hole");fV("ws-replace");fV("ws-attr");fV("ws-onafterrender");fV("ws-var");u0031(fT, "[ws-on]", (fW) => { fW.setAttribute("ws-on", d3(" ", bw((fX) => { let fY;const fZ=d4(fX, [":"], 1);const f0=(fY=null,[fU.TryGetValue(m(fZ, 1), {get:() => fY, set:(f1) => { fY=f1;}}), fY]);return f0[0]?m(fZ, 0)+":"+f0[1]:fX;}, d4(fW.getAttribute("ws-on"), [" "], 1))));});u0031(fT, "[ws-attr-holes]", (fW) => { const fX=d4(fW.getAttribute("ws-attr-holes"), [" "], 1);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)((() => { const f0=m(fX, fY);return fW.setAttribute(f0, bc((f1, f2) => { const f3=i(f2);return f1.replace(new RegExp("\\${"+f3[0]+"}", "ig"), "${"+f3[1]+"}");}, fW.getAttribute(f0), fU));})());});}
function c0(fT, fU, fV){ while(true){ if(fT.hasChildNodes())fV=fU.insertBefore(fT.lastChild, fV);else return null;} }
function c1(fT){ const fU=fT.attributes;const fV=[];const fW=[];const fX=[];for(let f2=0, f3=fU.length-1;f2<=f3;f2++){ const fY=fU.item(f2);if(d5(fY.nodeName, "ws-on")&&fY.nodeName!="ws-onafterrender"&&fY.nodeName!="ws-on"){ fV.push(fY.nodeName);fW.push(c2(fY.nodeName, M("ws-on".length), null)+":"+fY.nodeValue.toLowerCase());} else if(!d5(fY.nodeName, "ws-")&&(new RegExp(u0034())).test(fY.nodeValue)){ let fZ=new RegExp(u0034(), "g");let f0=fY.nodeValue.replace(fZ, (f4, f5) =>"${"+f5.toLowerCase()+"}");fY.nodeValue=f0;fX.push(fY.nodeName);} else void 0;} if(!(fW.length==0))fT.setAttribute("ws-on", d3(" ", fW));if(!(fX.length==0))fT.setAttribute("ws-attr-holes", d3(" ", fX));const f1=(f4) => { const f5=fT.getAttribute(f4);if(f5==null){ } else fT.setAttribute(f4, f5.toLowerCase());};f1("ws-hole");f1("ws-replace");f1("ws-attr");f1("ws-onafterrender");f1("ws-var");bu((f4) => { fT.removeAttribute(f4);}, fV);}
function c2(fT, fU, fV){ if(fU==null){ if(fV!=null&&fV.$==1){ const fW=fV.$0;return fW<0?"":fT.slice(0, fW+1);} else return"";} else if(fV==null)return fT.slice(fU.$0);else { const fX=fV.$0;return fX<0?"":fT.slice(fU.$0, fX+1);} }
function c3(fT){ const fU=globalThis.document.createElement("div");if(!c5().test(fT)){ fU.appendChild(globalThis.document.createTextNode(fT));return fU;} else { const fV=c9().exec(fT);const fW=t(fV, null)?"":m(fV, 1).toLowerCase();const fX=(c6())[fW];const fY=fX?fX:c7();fU.innerHTML=fY[1]+fT.replace(c8(), "<$1></$2>")+fY[2];function fZ(f0, f1){ while(true){ if(f1===0)return f0;else { const f2=f1;f0=f0.lastChild;f1=f2-1;} } } return fZ(fU, fY[0]);} }
function c4(fT){ const fU=[];for(let fV=0, fW=fT.childNodes.length-1;fV<=fW;fV++)fU.push(fT.childNodes[fV]);return fU;}
function c5(){ return eI.rhtml;}
function c6(){ return eI.wrapMap;}
function c7(){ return eI.defaultWrap;}
function c8(){ return eI.rxhtmlTag;}
function c9(){ return eI.rtagName;}
function c_(fT, fU, fV){ const fW=fT.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function c$(fT, fU){ const fV=globalThis.document.querySelectorAll(fT);for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function da(fT, fU, fV){ let fW;if(fV.parentNode===fT){ const fX=fV.nextSibling;let fY=t(fX, null)?null:fX;fW=fU===fY;} else fW=false;if(!fW)fT.insertBefore(fV, fU);}
function db(fT, fU){ if(fU.parentNode===fT)fT.removeChild(fU);}
function dc(){ return f("The input sequence has an insufficient number of elements.");}
function dd(fT, fU){ let fV=true;let fW=0;while(fV&&fW<p(fU))if(t(fU[fW], fT))fV=false;else fW=fW+1;return!fV;}
function de(){ return f("The input must be non-negative.");}
class df extends k { d;GetEnumerator(){ return ce(be((fT) => fT.K, this.d));} constructor(fT){ super();this.d=fT;} }
function dg(){ return ex();}
function dh(fT){ const fU=null;return em(() => en(dj(() => { }, ey(fT)), () => { ez(fT);return eq(null);}));}
function di(fT, fU){ return dk(eK(fT.$0, fU.$0));}
function dj(fT, fU){ const fV=fU.Duration;if(fV===0)return eo();else { const fW=(fX) => { function fY(fZ){ return(f0) => { const f1=f0-fZ;fU.Compute(f1);fT();return f1<=fV?void requestAnimationFrame((f2) => {(fY(fZ))(f2);}):fX();};} requestAnimationFrame((fZ) => {(fY(fZ))(fZ);});};return ev((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} }
function dk(fT){ return{$:0, $0:fT};}
function dl(fT){ return dk(eM(be(eB, fT)));}
function dm(){ return dk(eN());}
function dn(){ return eF.BatchUpdatesEnabled;}
function do_1(fT){ const fU=[0];function fV(){ const fW=null;return em(() => en(fT, () => { const fX=fU[0];return t(fX, 1)?(fU[0]=0,eo()):t(fX, 2)?(fU[0]=1,fV()):eo();}));} return() => { const fW=fU[0];if(t(fW, 0)){ fU[0]=1;ep(fV(), null);} else t(fW, 1)?fU[0]=2:void 0;};}
function dp(fT, fU, fV, fW){ const fX={DynElem:fT, DynFlags:fU, DynNodes:fV};fM(fX, "OnAfterRender", fW);return fX;}
function dq(fT){ let fU;const fV=fT.s;if(fV==null||(fV!=null&&fV.$==2?(fU=fV.$1,false):fV!=null&&fV.$==3?(fU=fV.$1,false):true))void 0;else { fT.s=null;for(let fX=0, fY=p(fU)-1;fX<=fY;fX++){ const fW=m(fU, fX);if(typeof fW=="object")(((fZ) => { dq(fZ);})(fW));else fW();} } }
function dr(fT, fU){ const fV=[];const fW=[];function fX(f0){ while(true){ if(!(f0===null)){ if(f0!=null&&f0.$==1)return fV.push(f0.$0);else if(f0!=null&&f0.$==2){ const f1=f0.$1;const f2=f0.$0;fX(f2);f0=f1;} else return f0!=null&&f0.$==3?f0.$0(fT):f0!=null&&f0.$==4?fW.push(f0.$0):null;} else return null;} } fX(fU);const fY=fV.slice(0);let fZ=dp(fT, du(fU), fY, fW.length===0?null:M((f0) => { bd((f1) => { f1(f0);}, fW);}));return fZ;}
function ds(fT){ return ea((fU) => fU.NChanged, cM(), cS, fT.DynNodes);}
function dt(fT){ return dp(fT, 0, [], null);}
function du(fT){ return fT!==null&&fT.hasOwnProperty("flags")?fT.flags:0;}
function dv(fT){ return dX.A3(fT);}
function dw(fT, fU){ return dX.A1(new eO(fT, fU));}
function dx(){ return eQ.EmptyAttr;}
function dy(fT){ const fU=2;return(fT.DynFlags&fU)===fU;}
function dz(fT){ return dF(fT, (fU, fV) => fU.NGetExitAnim(fV));}
function dA(fT){ const fU=1;return(fT.DynFlags&fU)===fU;}
function dB(fT){ return dF(fT, (fU, fV) => fU.NGetEnterAnim(fV));}
function dC(fT){ const fU=4;return(fT.DynFlags&fU)===fU;}
function dD(fT){ return dF(fT, (fU, fV) => fU.NGetChangeAnim(fV));}
function dE(fT, fU){ if(fT===null)return fU;else if(fU===null)return fT;else { const fV=dX.A2(fT, fU);dH(fV, du(fT)|du(fU));return fV;} }
function dF(fT, fU){ return dl(bw((fV) => fU(fV, fT.DynElem), fT.DynNodes));}
function dG(fT, fU){ bu((fV) => { fV.NSync(fT);}, fU.DynNodes);}
function dH(fT, fU){ fT.flags=fU;}
class dI extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dJ extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dK extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function dL(fT, fU){ return dv((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});}
function dM(fT){ return dX.A4(fT);}
function dN(fT, fU){ return dw(fU, (fV) =>(fW) => fV.setAttribute(fT, fW));}
function dO(fT){ return dU(fm(), fT);}
function dP(fT){ return dU(fn(), fT);}
function dQ(fT){ return dU(fo(), fT);}
function dR(fT){ return dU(fp(), fT);}
function dS(fT){ return dU(fq(), fT);}
function dT(fT){ return dU(fr(), fT);}
function dU(fT, fU){ const fV=fT(fU);return dX.Append(dv(fV[0]), dV(fV[1], fV[2]));}
function dV(fT, fU){ return dw(fU, fT);}
class dW extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dX { static Handler(fT, fU){ return dX.HandlerImpl(fT, fU);} static Concat(fT){ const fU=eb(fT);return d$(dx(), dX.Append, fU);} static Create(fT, fU){ return dv((fV) => { fV.setAttribute(fT, fU);});} static HandlerImpl(fT, fU){ return dv((fV) => { fV.addEventListener(fT, (fW) =>(fU(fV))(fW), false);});} static Append(fT, fU){ return dE(fT, fU);} static A4(fT){ return fR(dX, {$:4, $0:fT});} static A3(fT){ return fR(dX, {$:3, $0:fT});} static A1(fT){ return fR(dX, {$:1, $0:fT});} static A2(fT, fU){ return fR(dX, {$:2, $0:fT, $1:fU});} }
class dY extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class dZ extends r { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d0(fT){ return{$:0, $0:fT};}
function d1(fT){ return{$:1, $0:fT};}
class d2 { static Cons(fT, fU){ return fR(d2, {$:1, $0:fT, $1:fU});} static Empty=fR(d2, {$:0});GetEnumerator(){ return new ci(this, null, (fT) => { const fU=fT.s;return fU.$==0?false:(fT.c=fU.$0,fT.s=fU.$1,true);}, void 0);} }
function d3(fT, fU){ return by(fU).join(fT);}
function d4(fT, fU, fV){ return d6(fT, new RegExp("["+d7(fU.join(""))+"]"), fV);}
function d5(fT, fU){ return fT.substring(0, fU.length)==fU;}
function d6(fT, fU, fV){ return fV===1?bx((fW) => fW!=="", d8(fT, fU)):d8(fT, fU);}
function d7(fT){ return fT.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function d8(fT, fU){ return fT.split(fU);}
function d9(fT, fU){ return bn(fT, d_(fU));}
function d_(fT){ return fT==null?"":fT;}
function d$(fT, fU, fV){ const fW=p(fV);function fX(fY){ return(fZ) => { let f0;switch(fZ<=0?0:fZ===1?fY>=0&&fY<fW?1:(f0=fZ,2):(f0=fZ,2)){ case 0:return fT;case 1:return m(fV, fY);case 2:const f1=fZ/2>>0;return fU((fX(fY))(f1), (fX(fY+f1))(fZ-f1));} };} return(fX(0))(fW);}
function ea(fT, fU, fV, fW){ const fX=p(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return fT(m(fW, fZ));case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function eb(fT){ if(fT instanceof Array)return fT;else if(fT instanceof d2)return bA(fT);else if(fT===null)return[];else { const fU=[];const fV=ce(fT);try { while(fV.MoveNext())fU.push(fV.Current);return fU;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } }
class ec { c;s;v;static Create(fT){ let fU;fU=null;fU=ec.New(fT, null, () => { let fV;fV=fU.s;return fV===null?(fV=bY(fU.c()),fU.s=fV,bZ(fV, () => { fU.s=null;}),fV):fV;});return fU;} static New(fT, fU, fV){ return fR(ec, {c:fT, s:fU, v:fV});} }
class ed extends k { d;GetEnumerator(){ return ce(be((fT) => fT.V, this.d));} constructor(fT){ super();this.d=fT;} }
function ee(fT, fU){ return{PreviousNodes:fT, Top:fU};}
function ef(){ return eh(new $("New_3"));}
function eg(fT){ const fU=[];function fV(fY, fZ){ while(true)switch(fY){ case 0:if(fZ!=null&&fZ.$==0){ const f0=fZ.$1;const f1=fZ.$0;fV(0, f1);fZ=f0;} else if(fZ!=null&&fZ.$==1){ const f2=fZ.$0;fZ=f2;fY=1;} else if(fZ!=null&&fZ.$==2){ const f3=fZ.$0;fZ=f3.Current;} else if(fZ!=null&&fZ.$==6){ const f4=fZ.$0.Holes;return(((f5) =>(f6) => { bu(f5, f6);})(fX))(f4);} else return null;break;case 1:fU.push(fZ);fZ=fZ.Children;fY=0;break;} } function fW(fY){ return fV(0, fY);} function fX(fY){ return fV(1, fY);} fW(fT);return eh(new $("New_2", fU));}
function eh(fT){ return{$:0, $0:fT};}
function ei(fT, fU){ return eh(eZ(fT, fU.$0));}
function ej(fT, fU){ return eh(e0(fT.$0, fU.$0));}
function ek(fT){ return e1(fT.$0);}
function el(fT, fU){ return eh(e2(fT.$0, fU.$0));}
function em(fT){ return(fU) => { try {(fT())(fU);} catch(fV){ fU.k(eU(fV));} };}
function en(fT, fU){ return es((fV) => { fT(eT((fW) => { if(fW.$==0){ const fX=fW.$0;er().Fork(() => { try {(fU(fX))(fV);} catch(fY){ fV.k(eU(fY));} });} else er().Fork(() => { fV.k(fW);});}, fV.ct));});}
function eo(){ return eX.Zero;}
function ep(fT, fU){ const fV=(et())[0];const fW=fU==null?fV:fU.$0;er().Fork(() => { if(!fW.c)fT(eT((fX) => { if(fX.$==1)eu(fX.$0);}, fW));});}
function eq(fT){ return(fU) => { fU.k(eV(fT));};}
function er(){ return eX.scheduler;}
function es(fT){ return(fU) => { if(fU.ct.c)ew(fU);else fT(fU);};}
function et(){ return eX.defCTS;}
function eu(fT){ console.log("WebSharper: Uncaught asynchronous exception", fT);}
function ev(fT){ return(fU) => { const fV=[false];const fW=(fX) => { if(fV[0])f("A continuation provided by Async.FromContinuations was invoked multiple times");else { fV[0]=true;er().Fork(fX);} };fT((fX) => { fW(() => { fU.k(eV(fX));});}, (fX) => { fW(() => { fU.k(eU(fX));});}, (fX) => { fW(() => { fU.k(eW(fX));});});};}
function ew(fT){ fT.k(eW(new fD("New", fT.ct)));}
function ex(){ return eJ.UseAnimations;}
function ey(fT){ return eA(bp((fU) => fU.$==1?M(fU.$0):null, eL(fT.$0)));}
function ez(fT){ bu((fU) => { if(fU.$==0)fU.$0();}, eL(fT.$0));}
function eA(fT){ const fU=eb(fT);const fV=p(fU);if(fV===0)return eC();else if(fV===1)return m(fU, 0);else { const fW=bh(be((fY) => fY.Duration, fU));const fX=bw((fY) => eE(fW, fY), fU);return eD(fW, (fY) => { bu((fZ) => { fZ.Compute(fY);}, fX);});} }
function eB(fT){ return fT.$0;}
function eC(fT){ return eD(0, () => fT);}
function eD(fT, fU){ return{Compute:fU, Duration:fT};}
function eE(fT, fU){ const fV=fU.Compute;const fW=fU.Duration;const fX=fE(() => fU.Compute(fU.Duration));return{Compute:(fY) => fY>=fW?fX.f():fV(fY), Duration:fT};}
let eF=fN((fT) => class fU { static { eF=fT(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eG(fT){ let fU=[];let fV;for(var fW in fT)fU.push.apply(fU, fT[fW]);return fU;}
let eH=fN((fT) => class fU { static { eH=fT(this);} static counter;static { this.counter=0;} });
let eI=fN((fT) => class fU { static { eI=fT(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fV=[1, "<table>", "</table>"];let fW=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fV], ["tbody", fV], ["tfoot", fV], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fW;this.defaultWrap=[0, "", ""];} });
let eJ=fN((fT) => class fU { static { eJ=fT(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eS.Custom((fV) => { const fW=fV*fV;return 3*fW-2*(fW*fV);});this.UseAnimations=true;} });
function eK(fT, fU){ return fT.$==0?fU:fU.$==0?fT:{$:2, $0:fT, $1:fU};}
function eL(fT){ const fU=[];function fV(fW){ while(true){ if(fW.$==1)return fU.push(fW.$0);else if(fW.$==2){ const fX=fW.$1;const fY=fW.$0;fV(fY);fW=fX;} else return fW.$==3?bu((fZ) => { fU.push(fZ);}, fW.$0):null;} } fV(fT);return fU.slice(0);}
function eM(fT){ const fU=eb(fT);return d$(eN(), eK, fU);}
function eN(){ return fH.Empty;}
class eO extends k { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fT){ return dm();} NGetEnterAnim(fT){ return dm();} NGetChangeAnim(fT){ return dm();} NSync(fT){ if(this.dirty){(this.push(fT))(this.value);this.dirty=false;} } constructor(fT, fU){ super();this.push=fU;this.value=void 0;this.dirty=false;this.updates=cO((fV) => { this.value=fV;this.dirty=true;}, fT);} }
class eP extends Error { static New(){ return new this("New");} static New_1(fT){ return new this("New_1", fT);} constructor(fT, fU){ if(fT=="New"){ fT="New_1";fU="The given key was not present in the dictionary.";} if(fT=="New_1"){ const fV=fU;super(fV);} } }
let eQ=fN((fT) => class fU { static { eQ=fT(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(f$) =>[(ga) => { ga.addEventListener("change", () => f$.Get()!=ga.checked?f$.Set(ga.checked):null);}, (ga) =>(gb) => gb!=null&&gb.$==1?void(ga.checked=gb.$0):null, cO(M, f$.View)];this.StringSet=(f$) =>(ga) => { f$.value=ga;};this.StringGet=(f$) => M(f$.value);const fV=e8();const fW=e7();this.StringApply=(f$) => e6(fV, fW, f$);this.StringListSet=(f$) =>(ga) => { const gb=f$.options;for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { const ge=gb.item(gc);ge.selected=dd(ge.value, ga);})());};this.StringListGet=(f$) => { const ga=f$.selectedOptions;return M(by(bf(() => bg((gb) =>[ga.item(gb).value], j(0, ga.length-1)))));};const fX=e_();const fY=e9();this.StringListApply=(f$) => e6(fX, fY, f$);this.DateTimeSetUnchecked=(f$) =>(ga) => { f$.value=(new Date(ga)).toLocaleString();};this.DateTimeGetUnchecked=(f$) => { let ga;let gb;const gc=f$.value;if(fs(gc))return M(-8640000000000000);else { ga=0;const gd=fB(gc);let ge=gd!=null&&gd.$==1&&(ga=gd.$0,true);gb=[ge, ga];return gb[0]?M(gb[1]):null;} };const fZ=fa();const f0=e$();this.DateTimeApplyUnchecked=(f$) => e6(fZ, f0, f$);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(f$) => { const ga=f$.files;return M(by(bf(() => be((gb) => ga.item(gb), j(0, ga.length-1)))));};const f1=fd();const f2=fc();this.FileApplyUnchecked=(f$) => fb(f1, f2, f$);this.IntSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.IntGetUnchecked=(f$) => { const ga=f$.value;if(fs(ga))return M(0);else { const gb=+ga;return gb!==gb>>0?null:M(gb);} };const f3=ff();const f4=fe();this.IntApplyUnchecked=(f$) => e6(f3, f4, f$);this.IntSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.IntGetChecked=(f$) => { let ga;let gb;const gc=f$.value;if(fs(gc))ga=(f$.checkValidity?f$.checkValidity():true)?ft.Blank(gc):ft.Invalid(gc);else { const gd=(gb=0,[bQ(gc, {get:() => gb, set:(ge) => { gb=ge;}}), gb]);ga=gd[0]?ft.Valid(gd[1], gc):ft.Invalid(gc);} return M(ga);};const f5=fh();const f6=fg();this.IntApplyChecked=(f$) => e6(f5, f6, f$);this.FloatSetUnchecked=(f$) =>(ga) => { f$.value=String(ga);};this.FloatGetUnchecked=(f$) => { const ga=f$.value;if(fs(ga))return M(0);else { const gb=+ga;return isNaN(gb)?null:M(gb);} };const f7=fj();const f8=fi();this.FloatApplyUnchecked=(f$) => e6(f7, f8, f$);this.FloatSetChecked=(f$) =>(ga) => { const gb=ga.Input;return f$.value!=gb?void(f$.value=gb):null;};this.FloatGetChecked=(f$) => { let ga;const gb=f$.value;if(fs(gb))ga=(f$.checkValidity?f$.checkValidity():true)?ft.Blank(gb):ft.Invalid(gb);else { const gc=+gb;ga=isNaN(gc)?ft.Invalid(gb):ft.Valid(gc, gb);} return M(ga);};const f9=fl();const f_=fk();this.FloatApplyChecked=(f$) => e6(f9, f_, f$);} });
class eR extends k { idle;robin;Fork(fT){ this.robin.push(fT);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fT=Date.now();let fU=true;while(fU)if(this.robin.length===0){ this.idle=true;fU=false;} else {(this.robin.shift())();Date.now()-fT>40?(setTimeout(() => { this.tick();}, 0),fU=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class eS extends k { transformTime;static Custom(fT){ return new eS(fT);} constructor(fT){ super();this.transformTime=fT;} }
function eT(fT, fU){ return{k:fT, ct:fU};}
function eU(fT){ return{$:1, $0:fT};}
function eV(fT){ return{$:0, $0:fT};}
function eW(fT){ return{$:2, $0:fT};}
let eX=fN((fT) => class fU { static { eX=fT(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eY(false, []);this.scheduler=new eR();this.defCTS=[new fu()];this.Zero=eq();this.GetCT=(fV) => { fV.k(eV(fV.ct));};} });
function eY(fT, fU){ return{c:fT, r:fU};}
function eZ(fT, fU){ return new $("New_2", bx(fT, e1(fU)));}
function e0(fT, fU){ const fV=new $("New_2", e1(fU));fV.ExceptWith(e1(fT));return fV;}
function e1(fT){ const fU=bC(fT.Count, void 0);fT.CopyTo(fU, 0);return fU;}
function e2(fT, fU){ const fV=new $("New_2", e1(fT));fV.IntersectWith(e1(fU));return fV;}
function e3(fT){ return fT.$==1?fT.$0:e5();}
function e4(fT){ return fT.$==1?fT.$1:e5();}
function e5(){ return f("The input list was empty.");}
function e6(fT, fU, fV){ let fW;fW=null;return[(fX) => { const fY=() => { fV.UpdateMaybe((fZ) => { let f0;fW=fT(fX);return fW!=null&&fW.$==1&&(!t(fW.$0, fZ)&&(f0=[fW, fW.$0],true))?f0[0]:null;});};fX.addEventListener("change", fY);fX.addEventListener("input", fY);fX.addEventListener("keypress", fY);}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, cO((fX) => { let fY;return fW!=null&&fW.$==1&&(t(fW.$0, fX)&&(fY=fW.$0,true))?null:M(fX);}, fV.View)];}
function e7(){ return eQ.StringSet;}
function e8(){ return eQ.StringGet;}
function e9(){ return eQ.StringListSet;}
function e_(){ return eQ.StringListGet;}
function e$(){ return eQ.DateTimeSetUnchecked;}
function fa(){ return eQ.DateTimeGetUnchecked;}
function fb(fT, fU, fV){ let fW;fW=null;return[(fX) => { fX.addEventListener("change", () => { fV.UpdateMaybe((fY) => { let fZ;fW=fT(fX);return fW!=null&&fW.$==1&&(fW.$0!==fY&&(fZ=[fW, fW.$0],true))?fZ[0]:null;});});}, (fX) => { const fY=fU(fX);return(fZ) => fZ==null?null:fY(fZ.$0);}, cO((fX) => { let fY;return fW!=null&&fW.$==1&&(t(fW.$0, fX)&&(fY=fW.$0,true))?null:M(fX);}, fV.View)];}
function fc(){ return eQ.FileSetUnchecked;}
function fd(){ return eQ.FileGetUnchecked;}
function fe(){ return eQ.IntSetUnchecked;}
function ff(){ return eQ.IntGetUnchecked;}
function fg(){ return eQ.IntSetChecked;}
function fh(){ return eQ.IntGetChecked;}
function fi(){ return eQ.FloatSetUnchecked;}
function fj(){ return eQ.FloatGetUnchecked;}
function fk(){ return eQ.FloatSetChecked;}
function fl(){ return eQ.FloatGetChecked;}
function fm(){ return eQ.StringApply;}
function fn(){ return eQ.FloatApplyUnchecked;}
function fo(){ return eQ.BoolCheckedApply;}
function fp(){ return eQ.DateTimeApplyUnchecked;}
function fq(){ return eQ.FileApplyUnchecked;}
function fr(){ return eQ.StringListApply;}
function fs(fT){ return d9(fA, fT);}
class ft { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fT){ return fR(ft, {$:2, $0:fT});} static Invalid(fT){ return fR(ft, {$:1, $0:fT});} static Valid(fT, fU){ return fR(ft, {$:0, $0:fT, $1:fU});} }
class fu extends k { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function fv(fT, fU){ let fV;if(fU!=null&&fU.$==1){ const fW=[];fV=fU.$0[0].nextSibling;while(fV!==fU.$0[1]){ fW.push(fV);fV=fV.nextSibling;} return fz(fW);} else { let fX=fT.childNodes.length;const fY=fT.childNodes;let fZ=bD(fX, (f0) => fY[f0]);return fz(fZ);} }
function fw(fT, fU){ const fV=fT.$0;return fz(bx((fW) => bB((fX) =>!(fW===fX), fV), fU.$0));}
function fx(fT, fU){ bu(fT, fU.$0);}
function fy(fT){ const fU=[];function fV(fW){ while(true){ if(fW!=null&&fW.$==2){ const fX=fW.$0;fW=fX.Current;} else if(fW!=null&&fW.$==1)return fU.push(fW.$0.El);else if(fW==null)return null;else if(fW!=null&&fW.$==5)return fU.push(fW.$0);else if(fW!=null&&fW.$==4)return fU.push(fW.$0.Text);else if(fW!=null&&fW.$==6){ const fY=fW.$0.Els;return(((f1) =>(f2) => { bu(f1, f2);})((f1) => { if(f1==null||f1.constructor===Object)fV(f1);else fU.push(f1);}))(fY);} else { const fZ=fW.$1;const f0=fW.$0;fV(f0);fW=fZ;} } } fV(fT.Children);return fz(eb(fU));}
function fz(fT){ return{$:0, $0:fT};}
function fA(fT){ return fT.match(new RegExp("\\s"))!==null;}
function fB(fT){ const fU=Date.parse(fT);return isNaN(fU)?null:M(fU);}
function fC(fT, fU, fV, fW){ const fX=+fT;const fY=fX===fX-fX%1&&fX>=fU&&fX<=fV;if(fY)fW.set(fX);return fY;}
class fD extends Error { ct;static New(fT){ return new this("New", fT);} static New_1(fT, fU, fV){ return new this("New_1", fT, fU, fV);} constructor(fT, fU, fV, fW){ let fX;if(fT=="New"){ fX=fU;fT="New_1";fU="The operation was canceled.";fV=null;fW=fX;} if(fT=="New_1"){ const fY=fU;const fZ=fV;const f0=fW;super(fY);this.inner=fZ;this.ct=f0;} } }
function fE(fT){ return fJ(false, fT, fF);}
function fF(){ const fT=this.v();this.c=true;this.v=fT;this.f=fG;return fT;}
function fG(){ return this.v;}
let fH=fN((fT) => class fU { static { fH=fT(this);} static Empty;static { this.Empty={$:0};} });
function fI(fT){ fT.splice(0, p(fT));}
function fJ(fT, fU, fV){ return{c:fT, v:fU, f:fV};}
fS(() => { b();});
fK();

